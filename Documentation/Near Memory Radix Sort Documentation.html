<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --mermaid-theme: default; --mermaid-sequence-numbers: off; --mermaid-flowchart-curve: linear; --mermaid--gantt-left-padding: 75; --sequence-theme: simple; }


:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-require-zoom-fix { height: auto; margin-top: 16px; margin-bottom: 16px; }
.md-require-zoom-fix foreignobject { font-size: var(--mermaid-font-zoom); }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
    --mermaid-theme: default; /*or base, dark, forest, neutral, night */
    --mermaid-font-family: "trebuchet ms", verdana, arial, sans-serif;
    --mermaid-sequence-numbers: off; /* or "on", see https://mermaid-js.github.io/mermaid/#/sequenceDiagram?id=sequencenumbers*/
    --mermaid-flowchart-curve: linear /* or "basis", see https://github.com/typora/typora-issues/issues/1632*/;
    --mermaid--gantt-left-padding: 75; /* see https://github.com/typora/typora-issues/issues/1665*/
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}



mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
  stroke-width: 3;
}

g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}

.MathJax g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}
 :root {--mermaid-font-zoom:0.833333em ;} 
</style><title>Near Memory Radix Sort Documentation</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='near-memory-radix-sort-documentation'><span>Near Memory Radix Sort Documentation</span></h1><blockquote><p><span>This document contains information related to near memory radix sort project, especially module dependencies and module operations.</span></p></blockquote><p><span> </span></p><h2 id='table-of-content'><span>Table of Content</span></h2><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n84444"><a class="md-toc-inner" href="#near-memory-radix-sort-documentation">Near Memory Radix Sort Documentation</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n84449"><a class="md-toc-inner" href="#table-of-content">Table of Content</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n84451"><a class="md-toc-inner" href="#context">Context</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n84453"><a class="md-toc-inner" href="#system-architecture">System Architecture</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84456"><a class="md-toc-inner" href="#processing-system-and-ram">Processing System and RAM</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84460"><a class="md-toc-inner" href="#radix-sort-accelerator-ip-core">Radix Sort Accelerator IP Core</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84475"><a class="md-toc-inner" href="#axi-lite-master-interface">AXI Lite Master Interface</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84490"><a class="md-toc-inner" href="#axi-lite-slave-interface">AXI Lite Slave Interface</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84526"><a class="md-toc-inner" href="#axi-stream-master-interface">AXI Stream Master Interface</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84538"><a class="md-toc-inner" href="#axi-stream-slave-interface">AXI Stream Slave Interface</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84547"><a class="md-toc-inner" href="#dma-controller">DMA Controller</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84551"><a class="md-toc-inner" href="#bram-bank">BRAM Bank</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84553"><a class="md-toc-inner" href="#data-ordering">Data Ordering</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84557"><a class="md-toc-inner" href="#status-and-control-unit-scu">Status and Control Unit (SCU)</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84559"><a class="md-toc-inner" href="#radix-sort-accelerator-main-unit">Radix Sort Accelerator Main Unit</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n84563"><a class="md-toc-inner" href="#design-breakdown">Design Breakdown</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84566"><a class="md-toc-inner" href="#module-radixsortacceleratorv10">Module radix_sort_accelerator_v1_0 </a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n84568"><a class="md-toc-inner" href="#module-dependencies-1">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n84570"><a class="md-toc-inner" href="#module-parameters-1">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n84622"><a class="md-toc-inner" href="#module-ports-1">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n84915"><a class="md-toc-inner" href="#module-radixsortacceleratorv10s00axifromps">Module radix_sort_accelerator_v1_0_S00_AXI_FROM_PS </a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n84917"><a class="md-toc-inner" href="#module-dependencies-2">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n84920"><a class="md-toc-inner" href="#module-parameters-2">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n84947"><a class="md-toc-inner" href="#module-ports-2">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n85280"><a class="md-toc-inner" href="#module-radixsortacceleratorv10m00axitodma">Module radix_sort_accelerator_v1_0_M00_AXI_TO_DMA </a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85282"><a class="md-toc-inner" href="#module-dependencies-3">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85285"><a class="md-toc-inner" href="#module-parameters-3">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85337"><a class="md-toc-inner" href="#module-ports-3">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n85490"><a class="md-toc-inner" href="#module-radixsortacceleratorv10s00axis">Module radix_sort_accelerator_v1_0_S00_AXIS</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85492"><a class="md-toc-inner" href="#module-dependencies-4">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85495"><a class="md-toc-inner" href="#module-parameters-4">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85522"><a class="md-toc-inner" href="#module-ports-4">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n85605"><a class="md-toc-inner" href="#module-streamqueuein">Module stream_queue_in</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85607"><a class="md-toc-inner" href="#module-dependencies-5">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85610"><a class="md-toc-inner" href="#module-parameters-5">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85632"><a class="md-toc-inner" href="#module-ports-5">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n85700"><a class="md-toc-inner" href="#module-radixsortacceleratorv10m00axis">Module radix_sort_accelerator_v1_0_M00_AXIS</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85702"><a class="md-toc-inner" href="#module-dependencies-6">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85705"><a class="md-toc-inner" href="#module-parameters-6">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85737"><a class="md-toc-inner" href="#module-ports-6">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n85820"><a class="md-toc-inner" href="#module-streamqueueout">Module stream_queue_out</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85822"><a class="md-toc-inner" href="#module-dependencies-7">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85825"><a class="md-toc-inner" href="#module-parameters-7">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85847"><a class="md-toc-inner" href="#module-ports-7">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n85920"><a class="md-toc-inner" href="#module-radixsortacceleratormainunit">Module radix_sort_accelerator_main_unit</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85922"><a class="md-toc-inner" href="#module-dependencies-8">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85925"><a class="md-toc-inner" href="#module-parameters-8">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n85967"><a class="md-toc-inner" href="#module-ports-8">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n86255"><a class="md-toc-inner" href="#module-statusandcontrolunit">Module status_and_control_unit</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86257"><a class="md-toc-inner" href="#module-dependencies-9">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86260"><a class="md-toc-inner" href="#module-parameters-9">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86317"><a class="md-toc-inner" href="#module-ports-9">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n86510"><a class="md-toc-inner" href="#module-scubrambank">Module scu_bram_bank</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86512"><a class="md-toc-inner" href="#module-dependencies-10">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86515"><a class="md-toc-inner" href="#module-parameters-10">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86573"><a class="md-toc-inner" href="#module-ports-10">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n86706"><a class="md-toc-inner" href="#module-dmacontroller">Module dma_controller</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86708"><a class="md-toc-inner" href="#module-dependencies-11">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86711"><a class="md-toc-inner" href="#module-parameters-11">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86764"><a class="md-toc-inner" href="#module-ports-11">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86861"><a class="md-toc-inner" href="#rtl-breakdown-1">RTL Breakdown</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n86889"><a class="md-toc-inner" href="#module-dataordering">Module data_ordering</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86891"><a class="md-toc-inner" href="#module-dependencies-12">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86894"><a class="md-toc-inner" href="#module-parameters-12">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n86931"><a class="md-toc-inner" href="#module-ports-12">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n87079"><a class="md-toc-inner" href="#module-loadinstructionmodule">Module load_instruction_module</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87081"><a class="md-toc-inner" href="#module-dependencies-13">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87084"><a class="md-toc-inner" href="#module-parameters-13">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87141"><a class="md-toc-inner" href="#module-ports-13">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87198"><a class="md-toc-inner" href="#rtl-breakdown-2">RTL Breakdown</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n87204"><a class="md-toc-inner" href="#module-loadinputmodule">Module load_input_module</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87206"><a class="md-toc-inner" href="#module-dependencies-14">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87209"><a class="md-toc-inner" href="#module-parameters-14">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87261"><a class="md-toc-inner" href="#module-ports-14">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87338"><a class="md-toc-inner" href="#rtl-breakdown-3">RTL Breakdown</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n87345"><a class="md-toc-inner" href="#module-streamoutmodule">Module stream_out_module</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87347"><a class="md-toc-inner" href="#module-dependencies-15">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87350"><a class="md-toc-inner" href="#module-parameters-15">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87417"><a class="md-toc-inner" href="#module-ports-15">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87479"><a class="md-toc-inner" href="#rtl-breakdown-4">RTL Breakdown</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n87485"><a class="md-toc-inner" href="#module-brambank">Module bram_bank</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87487"><a class="md-toc-inner" href="#module-dependencies-16">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87490"><a class="md-toc-inner" href="#module-parameters-16">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87527"><a class="md-toc-inner" href="#module-ports-16">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87714"><a class="md-toc-inner" href="#rtl-breakdown-5">RTL Breakdown</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n87722"><a class="md-toc-inner" href="#module-bramtdp">Module bram_tdp</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87724"><a class="md-toc-inner" href="#module-dependencies-17">Module Dependencies</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87727"><a class="md-toc-inner" href="#module-parameters-17">Module Parameters</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87749"><a class="md-toc-inner" href="#module-ports-17">Module Ports</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n87816"><a class="md-toc-inner" href="#rtl-breakdown-6">RTL Breakdown</a></span></p></div><h2 id='context'><span>Context</span></h2><p><em><span>Contributors</span></em><span>: Dalta Imam Maulana, Jihwan Cho</span>
<em><span>Tools</span></em><span>: Vivado 2020.1</span>
<em><span>Document Version</span></em><span>: July 29th, 2021</span>
&nbsp;</p><h2 id='system-architecture'><span>System Architecture</span></h2><blockquote><p><span>The architecture overview of near memory radix sort accelerator is described in the section below</span></p></blockquote><h3 id='processing-system-and-ram'><span>Processing System and RAM</span></h3><p><span>Processing system is used as an interface between user and accelerator as shown in the figure below. Meanwhile, RAM is used to store the unsorted data and also act as storage to store sorted data from the accelerator. In this design, processing system is a dedicated ARM processor that is capable of running Linux and PYNQ Framework. User can use PYNQ Framework to control the operation of accelerator by writing an application using Python language.</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/Level%200.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 1 - System Level 0 Diagram</b></p><h3 id='radix-sort-accelerator-ip-core'><span>Radix Sort Accelerator IP Core</span></h3><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/Radix%20Sort%20IP%20core.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 2 - System Level 1 Diagram</b></p><p><span>Radix Sort Accelerator IP Core consists of 5 modules as shown in the figure above. Those modules are:</span></p><ul><li><strong><span>AXI Lite Master</span></strong><span>: acts as an interface between DMA controller block and AXI DMA block. This module is required since AXI DMA can only be controlled via AXI protocol.</span></li><li><strong><span>AXI Lite Slave</span></strong><span>: receives instructions from processing system block and send the instruction to status and control unit to be decoded.</span></li><li><strong><span>AXI Stream Master</span></strong><span>: responsible for sending sorted result data from BRAM bank to onboard DRAM via AXI DMA module.</span></li><li><strong><span>AXI Stream Slave</span></strong><span>: responsible for receiving unsorted data from onboard DRAM via AXI DMA module.</span></li><li><strong><span>Radix Sort Accelerator Main Unit</span></strong><span>: consists of </span><strong><span>DMA controller</span></strong><span> to control DMA operation, </span><strong><span>data ordering and BRAM controller</span></strong><span> to control dataflow from and to BRAM and sorting unit, </span><strong><span>BRAM bank</span></strong><span> to store sorted and unsorted data, </span><strong><span>sorting unit</span></strong><span> to sort data based on radix sorting algorithm, and </span><strong><span>status and control unit</span></strong><span> to control operation of each module inside the FPGA fabric.</span></li></ul><h3 id='axi-lite-master-interface'><span>AXI Lite Master Interface</span></h3><p><span>AXI Lite Master uses AXI4 Lite protocol. This module is based on Xilinx&#39;s template code generated via Vivado software. This unit is responsible for controlling AXI Direct Memory Access (DMA). This unit is controlled by DMA controller module using the signals below:</span>
<span>	</span><strong><span>1. Source / Destination Address</span></strong><span> [O_DMA_REG_ADDRESS]</span>
<span>	</span><strong><span>2. Number of Byte to Transfer</span></strong><span> [O_DMA_NO_OF_TRANSACTION]</span>
<span>	</span><strong><span>3. Transfer Mode</span></strong><span> [O_DMA_TRANSFER_MODE]</span></p><p><span>DMA operation mode can be set by configuring the transfer mode signal. DMA operation mode that is supported by this module are:</span>
<span>	</span><span>1. </span><strong><span>Starting AXI DMA</span></strong>
<span>	</span><span>2. </span><strong><span>Request transfer from DRAM</span></strong><span> (via MM2S channel)</span>
<span>	</span><span>3. </span><strong><span>Request transfer to DRAM</span></strong><span> (via S2MM channel) </span></p><p><span>In the Vivado, the AXI DMA is configured to use </span><strong><span>Direct Register Mode</span></strong><span> (ref: </span><strong><a href='https://www.xilinx.com/support/documentation/ip_documentation/axi_dma/v7_1/pg021_axi_dma.pdf' target='_blank' class='url'>https://www.xilinx.com/support/documentation/ip_documentation/axi_dma/v7_1/pg021_axi_dma.pdf</a></strong><span>). Therefore, every transaction is initiated via AXI4 Lite write request.</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/AXI%20DMA%20Start.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 3 - Starting AXI DMA Waveform </b></p><p><strong><span>Two AXI4 Lite requests are needed to start AXI DMA</span></strong><span>. The first request is to write the AXI DMA register at address 0x0 with data 0x1. This request will start the MM2S channel of DMA. The second request is to write the AXI DMA register at address 0x30 with data 0x1. This</span>
<span>request will start the S2MM channel of DMA. The request order in this request is not important.</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/AXI%20DMA%20Read.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 4 - Read from DRAM Request Waveform </b></p><p><strong><span>Two AXI4 Lite requests are needed to request read data from DRAM via AXI DMA</span></strong><span>. The first request is to write the AXI DMA register at address 0x18 with the source address. The</span>
<span>second request is to write the AXI DMA register at address 0x28 with a number of bytes to</span>
<span>transfer. This second request will also start the transaction. The request order is important</span>
<span>since sending request no of byte to transfer will start the transaction.</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/AXI%20DMA%20Write.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 5 - Write to DRAM Request Waveform </b></p><p><strong><span>Two AXI4 Lite requests are needed to request write data to DRAM via AXI DMA</span></strong><span>. The first request is to write the AXI DMA register at address 0x48 with the destination address. The second request is to write the AXI DMA register at address 0x58 with a number of bytes to transfer. This request will also start the transaction. The request order is important since the second request will start the transaction.</span></p><p><strong><span>Note</span></strong><span>: The transaction can be terminated early with AXI_TLAST from the master stream. The no of byte transferred will be updated to no of byte received by DMA. DMA will not return an error and accept this as a valid transfer. Not sending AXI_TLAST or sending data more than byte to transfer will result in DMA error (0x5002).</span></p><p><strong><span>It must be noted that after finishing a write transaction, DMA can be stalled for several clocks</span></strong><span> (ranging from 32-128 clock, it is unknown what caused it, therefore consecutive writes should be spaced and not back-to-back). This event is not happening on read requests. The properties that indicate this event happening is when the AXI Lite master successfully sends a request for the first write to DRAM, and almost immediately requests another transaction after the first one finished (in the span of &lt; 128 clocks usually). The DMA status register will show the right destination address and number of bytes to transfer (usually the register value is fine) but not initiating the request.</span></p><h3 id='axi-lite-slave-interface'><span>AXI Lite Slave Interface</span></h3><p><span>AXI Lite Slave uses AXI4 Lite protocol. This module is based on Xilinx&#39;s template code generated via Vivado software. This unit is responsible to receive/send a control signal from the Processing System (PS). In current design, there are 82 internal registers (7 essential registers, 63 debug registers, and 12 unused registers). This unit sends and receives signals below:</span>
<span>	</span><strong><span>1. Start Signal</span></strong><span> [I_GLOBAL_START]</span>
<span>	</span><strong><span>2. Input Address</span></strong><span> [I_ADDR_INPUT]</span>
<span>	</span><strong><span>3. Instruction Address</span></strong><span> [I_ADDR_INSTRUCTION]</span>
<span>	</span><strong><span>4. Output Address</span></strong><span> [I_ADDR_OUTPUT]</span>
<span>	</span><strong><span>5. Debug Signals</span></strong></p><p><span>The register address of each signals is shown in the table below:</span></p><figure><table><thead><tr><th><span>Slv Reg</span></th><th><span>Address</span></th><th><span>Category</span></th><th><span>Read/Write</span></th><th><span>Details</span></th></tr></thead><tbody><tr><td><span>0</span></td><td><span>0x000</span></td><td><span>Start Signal</span></td><td><span>Both</span></td><td><span>This register is used to start the accelerator</span></td></tr><tr><td><span>1</span></td><td><span>0x004</span></td><td><span>Input Address</span></td><td><span>Both</span></td><td><span>This register is used to provide unsorted input data address in DRAM</span></td></tr><tr><td><span>2</span></td><td><span>0x008</span></td><td><span>Instruction Address</span></td><td><span>Both</span></td><td><span>This register is used to provide instruction address in DRAM</span></td></tr><tr><td><span>3</span></td><td><span>0x00C</span></td><td><span>Output Address</span></td><td><span>Both</span></td><td><span>This register is used to provide output data address in DRAM</span></td></tr></tbody></table></figure><p><strong><span>Request order example</span></strong>
<span>Initial setup:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1. Write instruction address to register 0x008</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">2. Write 0x1 value to register 0x000 (start load instruction process)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">3. Write 0x0 value to register 0x000</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Start sorting process:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1. Write input address to register 0x004</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">2. Write output address to register 0x008</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">3. Write 0x1 value to register 0x000 (start sorting process)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;">4. Write 0x0 value to register 0x000<span class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">5. Read and wait until Register 0x24 16-bit LSB (program counter) equal to 2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">6. Repeat step 1 for another data</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="display: none; height: 224px;"></div></div></div></pre><h3 id='axi-stream-master-interface'><span>AXI Stream Master Interface</span></h3><p><span>AXI Stream Master uses AXI4 Stream protocol. This module is based on Xilinx&#39;s template code generated via Vivado software. This unit is responsible for sending a stream data from BRAM bank to DRAM via AXI DMA. This module has an internal buffer (queue) with size of 1024x128 bit.</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/AXIS%20Master.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 6 - AXI Stream Master Interface</b></p><p><span>After AXI Lite master request write transaction to DRAM to AXI DMA unit, AXI Stream master will assert TVALID along with the corresponding TDATA. If the slave (AXI DMA) reply with TREADY signal, the data will be transferred to DRAM and master can send the next data. But, master shouldn&#39;t de-assert TVALID signal or change TDATA before slave assert TREADY signal.</span></p><p><span>When both TVALID and TREADY signal are asserted, data will be sent to DRAM. Therefore, master can proceed to next data transfer. Master can also de-assert TVALID signal after a transaction to stall the transaction if necessary (in case of empty queue). But, it should be noted that if TVALID signal value is low for a long time, DMA error may happen (error 0x5002).</span></p><p><strong><span>Note:</span></strong><span> master should always asserts TLAST signal to indicate the last data packet or DMA will return an error and halt the process.</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/DMA%20Start.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 7 - Writing Data to DRAM via AXI DMA Waveform (Start)</b></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/DMA%20end.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 8 - Writing Data to DRAM via AXI DMA Waveform (End)</b></p><p><span>Figure above shows the process of writing data to DRAM via AXI DMA. When transaction is complete, AXI stream master will asserts </span><strong><span>DATA_SEND_DONE</span></strong><span> signal to the status and control unit to indicate that the data transfer has been done successfully. It should be noted that it is forbidden to do another DMA request in the middle of transaction. If there is another DMA request in the middle of transaction, DMA will return an error and halt the process. In case of FIFO full, the unit that wants to send data to DRAM should be paused and wait until FIFO is not full (FIFO full signal de-asserted).</span></p><h3 id='axi-stream-slave-interface'><span>AXI Stream Slave Interface</span></h3><p><span>AXI Stream Slave uses AXI4 Stream protocol. This module is based on Xilinx&#39;s template code generated via Vivado software. This unit is responsible for receiving stream data from DRAM via AXI DMA. This unit has an internal buffer (queue) with the size of 1024x128 bit.</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/AXIS%20Slave.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 9 - AXI Stream Slave Interface</b></p><p><span>After requesting read data from DRAM to DMA, the DMA will assert TVALID along with the</span>
<span>corresponding TDATA. If the slave replies with TREADY signal, then the data transmission is</span>
<span>success and Stream Master can send next data. Data should only be sampled when both TVALID and TREADY signal is HIGH. Therefore, stream_fifo_write_enable logic is TVALID</span>
<span>&amp;&amp; TREADY. This also mean that the data are being queued into the Stream Queue.</span></p><p><span>Stream Dequeue should be asserted HIGH when data is needed and kept HIGH as long as</span>
<span>STREAM_VALID is LOW or more data is needed. If the Stream Queue is FULL, then the</span>
<span>TREADY signal will go LOW and this will pause the transaction on the AXI side until some unit</span>
<span>read data from the queue. If the Stream Queue is EMPTY, then STREAM_VALID will kept</span>
<span>LOW indicating that there is no data in the stream.</span></p><p><strong><span>Note:</span></strong><span> TLAST is an optional signal for stream slaves and not used in current implementation. AXI Stream Slave is one-way communication, the state 0 is indicating IDLE and 1 is indicating RECEIVING data.</span></p><p><img src="C:\Users\SEED LAB\OneDrive - kaist.ac.kr\KAIST\Research\Projects\Radix Sort Accelerator\Diagram\DMA Receive.jpg" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 10 - Receiving Data form DRAM via AXI DMA Waveform</b></p><h3 id='dma-controller'><span>DMA Controller</span></h3><p><span>DMA controller is a module that forwards request from Status and Control Unit (SCU) to AXI Lite Master unit. This module receives start pulse. source/destination address, number of byte to transfer, number of received transaction (only used when writing data to DRAM), DMA operation (0: Starting DMA, 1: Read DMA, 2: Write DMA).</span></p><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/DMA%20controller.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 11 - DMA Controller Waveform Example</b></p><h3 id='bram-bank'><span>BRAM Bank</span></h3><p><span>BRAM bank receives several memory address pointers and receive/send data to/from corresponding BRAM. BRAM bank consists of three main section which are Instruction BRAM, Input Data BRAM, and Output Data BRAM. In current design, Instruction BRAM has 1024 address space with each address can store 64-bit data. Meanwhile, Input and Output Data BRAM has 32768 address space with each address space can store 128-bit data.</span></p><h3 id='data-ordering'><span>Data Ordering</span></h3><p><img src="https://github.com/daltamaulana/Near-Memory-Radix-Sort/blob/465fb5cd68cff37f49b3da81e0d8ec35f38167d0/Documentation/Assets/Data%20Ordering.jpg?raw=true" referrerpolicy="no-referrer"></p><p align="center"><b>Figure 12 - Data Ordering Block Diagram</b></p><p><span>Data ordering module consists of:</span>
<strong><span>1. Load Instruction Module</span></strong>
<span>This module forward data from AXI Stream Slave to instruction BRAM. This module also converts 128-bit data stream into 64-bit stream of data. In current design, this module is used to load exactly 1024 instruction from DRAM. The number of instruction can be changed by changing the </span><strong><span>MAXINSTCOUNT</span></strong><span> in the </span><strong><span>load_instruction_module.v</span></strong><span> file.</span>
<strong><span>2. Load Input Module</span></strong>
<span>This module forward data from AXI Stream Slave to input data BRAM without changing the stream bitwidth.</span>
<strong><span>3. Stream Out Module</span></strong>
<span>This module is used to generate 128-bit stream data from output BRAM. This data will be sent to DRAM via AXI Stream Master module.</span></p><h3 id='status-and-control-unit-scu'><span>Status and Control Unit (SCU)</span></h3><p>&nbsp;</p><h3 id='radix-sort-accelerator-main-unit'><span>Radix Sort Accelerator Main Unit</span></h3><blockquote><p><strong><span>Please update this part  ^^</span></strong></p></blockquote><p>&nbsp;</p><h2 id='design-breakdown'><span>Design Breakdown</span></h2><blockquote><p><span>This section contains detailed explanation about each RTL modules from parameters, ports, and module behavior</span></p></blockquote><h3 id='module-radixsortacceleratorv10'><span>Module radix_sort_accelerator_v1_0 </span></h3><p><span>This module is implemented in radix_sort_accelerator_v1_0.v file</span></p><h4 id='module-dependencies-1'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart369" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="157.20001220703125" style="max-width: 1955.78759765625px;" viewBox="0.0000152587890625 0.0000019073486328125 1955.78759765625 157.20001220703125" class="md-require-zoom-fix"><style>#mermaidChart369{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart369 .error-icon{fill:#552222;}#mermaidChart369 .error-text{fill:#552222;stroke:#552222;}#mermaidChart369 .edge-thickness-normal{stroke-width:2px;}#mermaidChart369 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart369 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart369 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart369 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart369 .marker{fill:#333333;}#mermaidChart369 .marker.cross{stroke:#333333;}#mermaidChart369 svg{font-family:sans-serif;font-size:16px;}#mermaidChart369 .label{font-family:sans-serif;color:#333;}#mermaidChart369 .label text{fill:#333;}#mermaidChart369 .node rect,#mermaidChart369 .node circle,#mermaidChart369 .node ellipse,#mermaidChart369 .node polygon,#mermaidChart369 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart369 .node .label{text-align:center;}#mermaidChart369 .node.clickable{cursor:pointer;}#mermaidChart369 .arrowheadPath{fill:#333333;}#mermaidChart369 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart369 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart369 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart369 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart369 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart369 .cluster text{fill:#333;}#mermaidChart369 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart369:root{--mermaid-font-family:sans-serif;}#mermaidChart369:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart369 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id1 LE-id2" id="L-id1-id2" style="opacity: 1;"><path class="path" d="M949.1375198364258,37.61346951174844L210.01876831054688,78.5999984741211L210.01876831054688,103.5999984741211" marker-end="url(#arrowhead3461)" style="fill:none"></path><defs><marker id="arrowhead3461" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id3" id="L-id1-id3" style="opacity: 1;"><path class="path" d="M949.1375198364258,45.05170115327948L659.9062805175781,78.5999984741211L659.9062805175781,103.5999984741211" marker-end="url(#arrowhead3462)" style="fill:none"></path><defs><marker id="arrowhead3462" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id4" id="L-id1-id4" style="opacity: 1;"><path class="path" d="M1072.0062713623047,53.599998474121094L1072.0062713623047,78.5999984741211L1072.0062713623047,103.5999984741211" marker-end="url(#arrowhead3463)" style="fill:none"></path><defs><marker id="arrowhead3463" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id5" id="L-id1-id5" style="opacity: 1;"><path class="path" d="M1194.8750228881836,46.263987984605606L1451.8000183105469,78.5999984741211L1451.8000183105469,103.5999984741211" marker-end="url(#arrowhead3464)" style="fill:none"></path><defs><marker id="arrowhead3464" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id6" id="L-id1-id6" style="opacity: 1;"><path class="path" d="M1194.8750228881836,38.78446880879751L1807.5750122070312,78.5999984741211L1807.5750122070312,103.5999984741211" marker-end="url(#arrowhead3465)" style="fill:none"></path><defs><marker id="arrowhead3465" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id1-3950" transform="translate(1072.0062713623047,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-122.86875462532043" y="-22.800000190734863" width="245.73750925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-107.16875457763672,-12.800000190734863)"><foreignObject width="214.33750915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id2-3951" transform="translate(210.01876831054688,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-202.01875615119934" y="-22.800000190734863" width="404.0375123023987" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-186.31875610351562,-12.800000190734863)"><foreignObject width="372.63751220703125" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_S00_AXI_FROM_PS.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id3-3953" transform="translate(659.9062805175781,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-197.8687469959259" y="-22.800000190734863" width="395.7374939918518" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-182.1687469482422,-12.800000190734863)"><foreignObject width="364.3374938964844" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_M00_AXI_TO_DMA.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id4-3955" transform="translate(1072.0062713623047,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-164.23125004768372" y="-22.800000190734863" width="328.46250009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-148.53125,-12.800000190734863)"><foreignObject width="297.0625" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_S00_AXIS.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id5-3957" transform="translate(1451.8000183105469,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-165.56250309944153" y="-22.800000190734863" width="331.12500619888306" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-149.8625030517578,-12.800000190734863)"><foreignObject width="299.7250061035156" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_M00_AXIS.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id6-3959" transform="translate(1807.5750122070312,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-140.21250462532043" y="-22.800000190734863" width="280.42500925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-124.51250457763672,-12.800000190734863)"><foreignObject width="249.02500915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_main_unit.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-1'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>C_S00_AXI_FROM_PS_DATA_WIDTH</span></td><td><span>integer</span></td><td><span>32</span></td><td><span>Parameters of AXI Slave Bus Interface S00_AXI_FROM_PS</span></td></tr><tr><td><span>C_S00_AXI_FROM_PS_ADDR_WIDTH</span></td><td><span>integer</span></td><td><span>9</span></td><td>&nbsp;</td></tr><tr><td><span>C_M00_AXI_TO_DMA_START_DATA_VALUE</span></td><td><span>unknown</span></td><td><span>32&#39;hAA000000</span></td><td><span>Parameters of AXI Master Bus Interface M00_AXI_TO_DMA</span></td></tr><tr><td><span>C_M00_AXI_TO_DMA_TARGET_SLAVE_BASE_ADDR</span></td><td><span>unknown</span></td><td><span>32&#39;h00000000</span></td><td>&nbsp;</td></tr><tr><td><span>C_M00_AXI_TO_DMA_ADDR_WIDTH</span></td><td><span>integer</span></td><td><span>32</span></td><td>&nbsp;</td></tr><tr><td><span>C_M00_AXI_TO_DMA_DATA_WIDTH</span></td><td><span>integer</span></td><td><span>32</span></td><td>&nbsp;</td></tr><tr><td><span>C_M00_AXI_TO_DMA_TRANSACTIONS_NUM</span></td><td><span>integer</span></td><td><span>2</span></td><td>&nbsp;</td></tr><tr><td><span>C_S00_AXIS_TDATA_WIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Parameters of AXI Slave Bus Interface S00_AXIS</span></td></tr><tr><td><span>C_M00_AXIS_TDATA_WIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Parameters of AXI Master Bus Interface M00_AXIS</span></td></tr></tbody></table></figure><h4 id='module-ports-1'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>pl_to_ps_irq</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Interrupt Pin</span></td></tr><tr><td><span>s00_axi_from_ps_aclk</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Ports of AXI Slave Bus Interface S00_AXI_FROM_PS</span></td></tr><tr><td><span>s00_axi_from_ps_aresetn</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_awaddr</span></td><td><span>in</span></td><td><span>[C_S00_AXI_FROM_PS_ADDR_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_awprot</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_awvalid</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_awready</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_wdata</span></td><td><span>in</span></td><td><span>[C_S00_AXI_FROM_PS_DATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_wstrb</span></td><td><span>in</span></td><td><span>[(C_S00_AXI_FROM_PS_DATA_WIDTH/8)-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_wvalid</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_wready</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_bresp</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_bvalid</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_bready</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_araddr</span></td><td><span>in</span></td><td><span>[C_S00_AXI_FROM_PS_ADDR_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_arprot</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_arvalid</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_arready</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_rdata</span></td><td><span>out</span></td><td><span>[C_S00_AXI_FROM_PS_DATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_rresp</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_rvalid</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axi_from_ps_rready</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_aclk</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Ports of AXI Master Bus Interface M00_AXI_TO_DMA</span></td></tr><tr><td><span>m00_axi_to_dma_aresetn</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_awaddr</span></td><td><span>out</span></td><td><span>[C_M00_AXI_TO_DMA_ADDR_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_awprot</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_awvalid</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_awready</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_wdata</span></td><td><span>out</span></td><td><span>[C_M00_AXI_TO_DMA_DATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_wstrb</span></td><td><span>out</span></td><td><span>[C_M00_AXI_TO_DMA_DATA_WIDTH/8-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_wvalid</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_wready</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_bresp</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_bvalid</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_bready</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_araddr</span></td><td><span>out</span></td><td><span>[C_M00_AXI_TO_DMA_ADDR_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_arprot</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_arvalid</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_arready</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_rdata</span></td><td><span>in</span></td><td><span>[C_M00_AXI_TO_DMA_DATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_rresp</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_rvalid</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axi_to_dma_rready</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axis_aclk</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Ports of AXI Slave Bus Interface S00_AXIS</span></td></tr><tr><td><span>s00_axis_aresetn</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axis_tready</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axis_tdata</span></td><td><span>in</span></td><td><span>[C_S00_AXIS_TDATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axis_tstrb</span></td><td><span>in</span></td><td><span>[(C_S00_AXIS_TDATA_WIDTH/8)-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axis_tlast</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>s00_axis_tvalid</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axis_aclk</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Ports of AXI Master Bus Interface M00_AXIS</span></td></tr><tr><td><span>m00_axis_aresetn</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axis_tvalid</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axis_tdata</span></td><td><span>out</span></td><td><span>[C_M00_AXIS_TDATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axis_tstrb</span></td><td><span>out</span></td><td><span>[(C_M00_AXIS_TDATA_WIDTH/8)-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axis_tlast</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>m00_axis_tready</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-radixsortacceleratorv10s00axifromps'><span>Module radix_sort_accelerator_v1_0_S00_AXI_FROM_PS </span></h3><p><span>This module is implemented in radix_sort_accelerator_v1_0_S00_AXI_FROM_PS.v file</span></p><h4 id='module-dependencies-2'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart370" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 420.03753662109375px;" viewBox="0.0000152587890625 0.0000019073486328125 420.03753662109375 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart370{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart370 .error-icon{fill:#552222;}#mermaidChart370 .error-text{fill:#552222;stroke:#552222;}#mermaidChart370 .edge-thickness-normal{stroke-width:2px;}#mermaidChart370 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart370 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart370 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart370 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart370 .marker{fill:#333333;}#mermaidChart370 .marker.cross{stroke:#333333;}#mermaidChart370 svg{font-family:sans-serif;font-size:16px;}#mermaidChart370 .label{font-family:sans-serif;color:#333;}#mermaidChart370 .label text{fill:#333;}#mermaidChart370 .node rect,#mermaidChart370 .node circle,#mermaidChart370 .node ellipse,#mermaidChart370 .node polygon,#mermaidChart370 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart370 .node .label{text-align:center;}#mermaidChart370 .node.clickable{cursor:pointer;}#mermaidChart370 .arrowheadPath{fill:#333333;}#mermaidChart370 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart370 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart370 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart370 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart370 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart370 .cluster text{fill:#333;}#mermaidChart370 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart370:root{--mermaid-font-family:sans-serif;}#mermaidChart370:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart370 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id1-3961" transform="translate(210.01876831054688,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-202.01875615119934" y="-22.800000190734863" width="404.0375123023987" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-186.31875610351562,-12.800000190734863)"><foreignObject width="372.63751220703125" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_S00_AXI_FROM_PS.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-2'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>C_S_AXI_DATA_WIDTH</span></td><td><span>integer</span></td><td><span>32</span></td><td><span>Width of S_AXI data bus</span></td></tr><tr><td><span>C_S_AXI_ADDR_WIDTH</span></td><td><span>integer</span></td><td><span>9</span></td><td><span>Width of S_AXI address bus</span></td></tr><tr><td><span>ADDR_LSB</span></td><td><span>integer</span></td><td><span>(C_S_AXI_DATA_WIDTH/32) + 1</span></td><td><span>Example-specific design signals local parameter for addressing 32 bit / 64 bit C_S_AXI_DATA_WIDTH ADDR_LSB is used for addressing 32/64 bit registers/memories ADDR_LSB = 2 for 32 bits (n downto 2) ADDR_LSB = 3 for 64 bits (n downto 3)</span></td></tr><tr><td><span>OPT_MEM_ADDR_BITS</span></td><td><span>integer</span></td><td><span>6</span></td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='module-ports-2'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>O_GLOBAL_START</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Global start signal received from user application. This signal is used to start the accelerator</span></td></tr><tr><td><span>O_ADDR_INPUT</span></td><td><span>out</span></td><td><span>[C_S_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>This port contains information about the address of input data in DRAM</span></td></tr><tr><td><span>O_ADDR_INSTRUCTION</span></td><td><span>out</span></td><td><span>[C_S_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>This port contains information about the address of instructions in DRAM</span></td></tr><tr><td><span>O_ADDR_OUTPUT</span></td><td><span>out</span></td><td><span>[C_S_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>This port contains information about the address of output data in DRAM</span></td></tr><tr><td><span>O_FORCE_LOAD_INSTRUCTION</span></td><td><span>out</span></td><td><span>logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_PROGRAM_COUNTER</span></td><td><span>in</span></td><td><span>[C_S_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>This port contains information about accelerator current program counter (debugging purpose)</span></td></tr><tr><td><span>O_BRAM_DEBUG_ADDR</span></td><td><span>out</span></td><td><span>[C_S_AXI_DATA_WIDTH-1:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>O_BRAM_MODE_DEBUG</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_INSTRUCTION</span></td><td><span>in</span></td><td><span>[63:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_WEIGHT</span></td><td><span>in</span></td><td><span>[71:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_FMAP</span></td><td><span>in</span></td><td><span>[127:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_BIAS</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_OUT_0</span></td><td><span>in</span></td><td><span>[447:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_OUT_1</span></td><td><span>in</span></td><td><span>[447:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_DLQ</span></td><td><span>in</span></td><td><span>[447:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_BRAM_DEBUG_MP</span></td><td><span>in</span></td><td><span>[447:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_REG_DEBUG_SCALE_POS</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_REG_DEBUG_SCALE_NEG</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_FSM_STREAM_MASTER</span></td><td><span>in</span></td><td><span>[7:0] logic</span></td><td><span>This port contains information about AXI stream master current state (debugging purpose)</span></td></tr><tr><td><span>I_FSM_STREAM_SLAVE</span></td><td><span>in</span></td><td><span>[7:0] logic</span></td><td><span>This port contains information about AXI stream slave current state (debugging purpose)</span></td></tr><tr><td><span>I_FSM_DMA_CONTROLLER</span></td><td><span>in</span></td><td><span>[7:0] logic</span></td><td><span>This port contains information about DMA controller current state (debugging purpose)</span></td></tr><tr><td><span>I_IRQ_SIGNAL</span></td><td><span>in</span></td><td><span>logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_STATE_COUNTER</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_FIFO_STATUS_SLAVE</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td><span>This port contains information about AXI stream slave FIFO status (debugging purpose)</span></td></tr><tr><td><span>I_FIFO_STATUS_MASTER</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td><span>This port contains information about AXI stream master FIFO status (debugging purpose)</span></td></tr><tr><td><span>I_PC_CHANGED</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_SCU_STATE_MACHINE</span></td><td><span>in</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_INTERNAL_COUNTER</span></td><td><span>in</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_INSTRUCTION_OUT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_SORT_STATE</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_FIRST_STATE</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_EVEN_STATE</span></td><td><span>in</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_ODD_STATE</span></td><td><span>in</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_DATA_STATE</span></td><td><span>in</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_SORT_START</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_SORT_START_DELAY</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_POINTER0</span></td><td><span>in</span></td><td><span>[9:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_POINTER1</span></td><td><span>in</span></td><td><span>[9:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_ADDR1</span></td><td><span>in</span></td><td><span>[9:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_ADDR2</span></td><td><span>in</span></td><td><span>[9:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_LI_COUNT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>This port contains information about the number of clock cycles needed to send unsorted data from DRAM to BRAM</span></td></tr><tr><td><span>I_RS_COUNT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>This port contains information about the number of clock cycles needed to do radix sorting process</span></td></tr><tr><td><span>I_SO_COUNT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>This port contains information about the number of clock cycles needed to send the sorted data from BRAM to DRAM</span></td></tr><tr><td><span>I_ALL_COUNT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>This port contains information about the total number of clock cycles needed to run the sorting process (from load input to stream out)</span></td></tr><tr><td><span>S_AXI_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Global Clock Signal</span></td></tr><tr><td><span>S_AXI_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Global Reset Signal. This Signal is Active LOW</span></td></tr><tr><td><span>S_AXI_AWADDR</span></td><td><span>in</span></td><td><span>[C_S_AXI_ADDR_WIDTH-1:0] logic</span></td><td><span>Write address (issued by master, acceped by Slave)</span></td></tr><tr><td><span>S_AXI_AWPROT</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_AWVALID</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_AWREADY</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_WDATA</span></td><td><span>in</span></td><td><span>[C_S_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>Write data (issued by master, acceped by Slave)</span></td></tr><tr><td><span>S_AXI_WSTRB</span></td><td><span>in</span></td><td><span>[(C_S_AXI_DATA_WIDTH/8)-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_WVALID</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_WREADY</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_BRESP</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_BVALID</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_BREADY</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_ARADDR</span></td><td><span>in</span></td><td><span>[C_S_AXI_ADDR_WIDTH-1:0] logic</span></td><td><span>Read address (issued by master, acceped by Slave)</span></td></tr><tr><td><span>S_AXI_ARPROT</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_ARVALID</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_ARREADY</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_RDATA</span></td><td><span>out</span></td><td><span>[C_S_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>Read data (issued by slave)</span></td></tr><tr><td><span>S_AXI_RRESP</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_RVALID</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>S_AXI_RREADY</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-radixsortacceleratorv10m00axitodma'><span>Module radix_sort_accelerator_v1_0_M00_AXI_TO_DMA </span></h3><p><span>This module is implemented in radix_sort_accelerator_v1_0_M00_AXI_TO_DMA.v file</span></p><h4 id='module-dependencies-3'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart371" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 411.73748779296875px;" viewBox="0.0000152587890625 0.0000019073486328125 411.73748779296875 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart371{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart371 .error-icon{fill:#552222;}#mermaidChart371 .error-text{fill:#552222;stroke:#552222;}#mermaidChart371 .edge-thickness-normal{stroke-width:2px;}#mermaidChart371 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart371 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart371 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart371 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart371 .marker{fill:#333333;}#mermaidChart371 .marker.cross{stroke:#333333;}#mermaidChart371 svg{font-family:sans-serif;font-size:16px;}#mermaidChart371 .label{font-family:sans-serif;color:#333;}#mermaidChart371 .label text{fill:#333;}#mermaidChart371 .node rect,#mermaidChart371 .node circle,#mermaidChart371 .node ellipse,#mermaidChart371 .node polygon,#mermaidChart371 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart371 .node .label{text-align:center;}#mermaidChart371 .node.clickable{cursor:pointer;}#mermaidChart371 .arrowheadPath{fill:#333333;}#mermaidChart371 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart371 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart371 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart371 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart371 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart371 .cluster text{fill:#333;}#mermaidChart371 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart371:root{--mermaid-font-family:sans-serif;}#mermaidChart371:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart371 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id1-3963" transform="translate(205.86874389648438,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-197.8687469959259" y="-22.800000190734863" width="395.7374939918518" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-182.1687469482422,-12.800000190734863)"><foreignObject width="364.3374938964844" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_M00_AXI_TO_DMA.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-3'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>C_M_TARGET_SLAVE_BASE_ADDR</span></td><td><span>unknown</span></td><td><span>32&#39;h40000000</span></td><td><span>The master requires a target slave base address.</span></td></tr><tr><td><span>C_M_AXI_ADDR_WIDTH</span></td><td><span>integer</span></td><td><span>32</span></td><td><span>Width of M_AXI address bus.</span></td></tr><tr><td><span>C_M_AXI_DATA_WIDTH</span></td><td><span>integer</span></td><td><span>32</span></td><td><span>Width of M_AXI data bus.</span></td></tr><tr><td><span>C_M_TRANSACTIONS_NUM</span></td><td><span>integer</span></td><td><span>2</span></td><td><span>Transaction number is the number of write</span></td></tr><tr><td><span>TRANS_NUM_BITS</span></td><td><span>integer</span></td><td><span>clogb2(C_M_TRANSACTIONS_NUM-1)</span></td><td>&nbsp;</td></tr><tr><td><span>IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b00</span></td><td><span>This state issues the status of comparison</span></td></tr><tr><td><span>INIT_WRITE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b01</span></td><td><span>This state issues the status of comparison</span></td></tr><tr><td><span>TRANSACTION_DONE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b10</span></td><td><span>This state issues the status of comparison</span></td></tr><tr><td><span>INIT_READ</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b11</span></td><td><span>This state issues the status of comparison</span></td></tr></tbody></table></figure><h4 id='module-ports-3'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_REG_ADDRESS</span></td><td><span>in</span></td><td><span>[C_M_AXI_DATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_REG_DATA</span></td><td><span>in</span></td><td><span>[C_M_AXI_DATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_TRANSFER_MODE</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_INIT_AXI_TXN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Initiate AXI transactions</span></td></tr><tr><td><span>O_AXI_TXN_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_FSM_DMA_CONTROLLER</span></td><td><span>out</span></td><td><span>[7:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_BRAM_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DATA_LOGGER</span></td><td><span>out</span></td><td><span>[63:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>M_AXI_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>AXI clock signal</span></td></tr><tr><td><span>M_AXI_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>AXI active low reset signal</span></td></tr><tr><td><span>M_AXI_AWADDR</span></td><td><span>out</span></td><td><span>[C_M_AXI_ADDR_WIDTH-1:0] logic</span></td><td><span>Master Interface Write Address Channel ports. Write address (issued by master)</span></td></tr><tr><td><span>M_AXI_AWPROT</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td><span>Write channel Protection type.</span></td></tr><tr><td><span>M_AXI_AWVALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Write address valid.</span></td></tr><tr><td><span>M_AXI_AWREADY</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Write address ready.</span></td></tr><tr><td><span>M_AXI_WDATA</span></td><td><span>out</span></td><td><span>[C_M_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>Master Interface Write Data Channel ports. Write data (issued by master)</span></td></tr><tr><td><span>M_AXI_WSTRB</span></td><td><span>out</span></td><td><span>[C_M_AXI_DATA_WIDTH/8-1:0] logic</span></td><td><span>Write strobes.</span></td></tr><tr><td><span>M_AXI_WVALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Write valid. This signal indicates that valid write data and strobes are available.</span></td></tr><tr><td><span>M_AXI_WREADY</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Write ready. This signal indicates that the slave can accept the write data.</span></td></tr><tr><td><span>M_AXI_BRESP</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td><span>Master Interface Write Response Channel ports.</span></td></tr><tr><td><span>M_AXI_BVALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Write response valid.</span></td></tr><tr><td><span>M_AXI_BREADY</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Response ready. This signal indicates that the master can accept a write response.</span></td></tr><tr><td><span>M_AXI_ARADDR</span></td><td><span>out</span></td><td><span>[C_M_AXI_ADDR_WIDTH-1:0] logic</span></td><td><span>Master Interface Read Address Channel ports. Read address (issued by master)</span></td></tr><tr><td><span>M_AXI_ARPROT</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td><span>Protection type.</span></td></tr><tr><td><span>M_AXI_ARVALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Read address valid.</span></td></tr><tr><td><span>M_AXI_ARREADY</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Read address ready.</span></td></tr><tr><td><span>M_AXI_RDATA</span></td><td><span>in</span></td><td><span>[C_M_AXI_DATA_WIDTH-1:0] logic</span></td><td><span>Master Interface Read Data Channel ports. Read data (issued by slave)</span></td></tr><tr><td><span>M_AXI_RRESP</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td><span>Read response. This signal indicates the status of the read transfer.</span></td></tr><tr><td><span>M_AXI_RVALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Read valid. This signal indicates that the channel is signaling the required read data.</span></td></tr><tr><td><span>M_AXI_RREADY</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Read ready. This signal indicates that the master can accept the read data and response information.</span></td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-radixsortacceleratorv10s00axis'><span>Module radix_sort_accelerator_v1_0_S00_AXIS</span></h3><p><span>This module is implemented in radix_sort_accelerator_v1_0_S00_AXIS.v file</span></p><h4 id='module-dependencies-4'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart372" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="252.79998779296875" style="max-width: 344.4624938964844px;" viewBox="0 0.0000019073486328125 344.4624938964844 252.79998779296875" class="md-require-zoom-fix"><style>#mermaidChart372{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart372 .error-icon{fill:#552222;}#mermaidChart372 .error-text{fill:#552222;stroke:#552222;}#mermaidChart372 .edge-thickness-normal{stroke-width:2px;}#mermaidChart372 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart372 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart372 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart372 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart372 .marker{fill:#333333;}#mermaidChart372 .marker.cross{stroke:#333333;}#mermaidChart372 svg{font-family:sans-serif;font-size:16px;}#mermaidChart372 .label{font-family:sans-serif;color:#333;}#mermaidChart372 .label text{fill:#333;}#mermaidChart372 .node rect,#mermaidChart372 .node circle,#mermaidChart372 .node ellipse,#mermaidChart372 .node polygon,#mermaidChart372 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart372 .node .label{text-align:center;}#mermaidChart372 .node.clickable{cursor:pointer;}#mermaidChart372 .arrowheadPath{fill:#333333;}#mermaidChart372 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart372 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart372 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart372 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart372 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart372 .cluster text{fill:#333;}#mermaidChart372 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart372:root{--mermaid-font-family:sans-serif;}#mermaidChart372:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart372 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id1 LE-id2" id="L-id1-id2" style="opacity: 1;"><path class="path" d="M172.2312469482422,53.599998474121094L172.2312469482422,78.5999984741211L172.2312469482422,103.5999984741211" marker-end="url(#arrowhead3479)" style="fill:none"></path><defs><marker id="arrowhead3479" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id2 LE-id3" id="L-id2-id3" style="opacity: 1;"><path class="path" d="M172.2312469482422,149.1999969482422L172.2312469482422,174.1999969482422L172.2312469482422,199.1999969482422" marker-end="url(#arrowhead3480)" style="fill:none"></path><defs><marker id="arrowhead3480" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id1-3967" transform="translate(172.2312469482422,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-164.23125004768372" y="-22.800000190734863" width="328.46250009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-148.53125,-12.800000190734863)"><foreignObject width="297.0625" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_S00_AXIS.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id2-3968" transform="translate(172.2312469482422,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-83.74375462532043" y="-22.800000190734863" width="167.48750925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-68.04375457763672,-12.800000190734863)"><foreignObject width="136.08750915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">stream_queue_in.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id3-3969" transform="translate(172.2312469482422,221.99999618530273)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-55.72656178474426" y="-22.800000190734863" width="111.45312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.02656173706055,-12.800000190734863)"><foreignObject width="80.0531234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_tdp.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-4'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>C_S_AXIS_TDATA_WIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>AXI4Stream sink: Data Width</span></td></tr><tr><td><span>IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;h0</span></td><td><span>Define the states of AXI Slave stream state machine (No operation)</span></td></tr><tr><td><span>STREAM_FIFO</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;h1</span></td><td><span>Define the states of AXI Slave stream state machine (Sending data)</span></td></tr><tr><td><span>FIFO_FULL</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;h2</span></td><td><span>Define the states of AXI Slave stream state machine (Slave FIFO full)</span></td></tr></tbody></table></figure><h4 id='module-ports-4'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_STREAM_DEQUEUE</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>This signal is used to dequeue data from AXIS slave FIFO</span></td></tr><tr><td><span>O_STREAM_VALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This signal is used in handshaking process when other module ask for new data to this module</span></td></tr><tr><td><span>O_STREAM_FIFO</span></td><td><span>out</span></td><td><span>[127:0] logic</span></td><td><span>This port contains queue output data</span></td></tr><tr><td><span>O_STREAM_EMPTY</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port contains information about AXIS slave FIFO empty flag</span></td></tr><tr><td><span>O_FSM_STREAM_SLAVE</span></td><td><span>out</span></td><td><span>[7:0] logic</span></td><td><span>This port contains information about AXIS slave FIFO current state</span></td></tr><tr><td><span>I_STREAM_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>O_STREAM_FIFO_INPUT_DEBUG</span></td><td><span>out</span></td><td><span>[127:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>O_FIFO_STATUS</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>S_AXIS_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>AXI4Stream sink: Clock</span></td></tr><tr><td><span>S_AXIS_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>AXI4Stream sink: Reset</span></td></tr><tr><td><span>S_AXIS_TREADY</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Ready to accept data in</span></td></tr><tr><td><span>S_AXIS_TDATA</span></td><td><span>in</span></td><td><span>[C_S_AXIS_TDATA_WIDTH-1:0] logic</span></td><td><span>Data in</span></td></tr><tr><td><span>S_AXIS_TSTRB</span></td><td><span>in</span></td><td><span>[(C_S_AXIS_TDATA_WIDTH/8)-1:0] logic</span></td><td><span>Byte qualifier</span></td></tr><tr><td><span>S_AXIS_TLAST</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Indicates boundary of last packet</span></td></tr><tr><td><span>S_AXIS_TVALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Data is in valid</span></td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-streamqueuein'><span>Module stream_queue_in</span></h3><p><span>This module is implemented in stream_queue_in.v file</span></p><h4 id='module-dependencies-5'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart373" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="157.20001220703125" style="max-width: 183.48751831054688px;" viewBox="0.00000762939453125 0.0000019073486328125 183.48751831054688 157.20001220703125" class="md-require-zoom-fix"><style>#mermaidChart373{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart373 .error-icon{fill:#552222;}#mermaidChart373 .error-text{fill:#552222;stroke:#552222;}#mermaidChart373 .edge-thickness-normal{stroke-width:2px;}#mermaidChart373 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart373 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart373 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart373 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart373 .marker{fill:#333333;}#mermaidChart373 .marker.cross{stroke:#333333;}#mermaidChart373 svg{font-family:sans-serif;font-size:16px;}#mermaidChart373 .label{font-family:sans-serif;color:#333;}#mermaidChart373 .label text{fill:#333;}#mermaidChart373 .node rect,#mermaidChart373 .node circle,#mermaidChart373 .node ellipse,#mermaidChart373 .node polygon,#mermaidChart373 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart373 .node .label{text-align:center;}#mermaidChart373 .node.clickable{cursor:pointer;}#mermaidChart373 .arrowheadPath{fill:#333333;}#mermaidChart373 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart373 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart373 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart373 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart373 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart373 .cluster text{fill:#333;}#mermaidChart373 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart373:root{--mermaid-font-family:sans-serif;}#mermaidChart373:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart373 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id1 LE-id2" id="L-id1-id2" style="opacity: 1;"><path class="path" d="M91.74375915527344,53.599998474121094L91.74375915527344,78.5999984741211L91.74375915527344,103.5999984741211" marker-end="url(#arrowhead3487)" style="fill:none"></path><defs><marker id="arrowhead3487" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id1-3972" transform="translate(91.74375915527344,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-83.74375462532043" y="-22.800000190734863" width="167.48750925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-68.04375457763672,-12.800000190734863)"><foreignObject width="136.08750915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">stream_queue_in.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id2-3973" transform="translate(91.74375915527344,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-55.72656178474426" y="-22.800000190734863" width="111.45312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.02656173706055,-12.800000190734863)"><foreignObject width="80.0531234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_tdp.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-5'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>unknown</span></td><td><span>128</span></td><td><span>Stream in data width</span></td></tr><tr><td><span>SIZE</span></td><td><span>unknown</span></td><td><span>1024</span></td><td><span>Stream in FIFO depth</span></td></tr><tr><td><span>ADDR_BIT</span></td><td><span>unknown</span></td><td><span>10</span></td><td><span>Stream in FIFO address bit</span></td></tr></tbody></table></figure><h4 id='module-ports-5'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_CLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_RSTN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (</span><strong><span>active low</span></strong><span>)</span></td></tr><tr><td><span>I_QUEUE</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>This port is used by FIFO to queue (store) input data</span></td></tr><tr><td><span>I_DEQUEUE</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>This port is used by FIFO to dequeue (send) data</span></td></tr><tr><td><span>I_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Input data port</span></td></tr><tr><td><span>O_EMPTY</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port contains information about FIFO empty flag</span></td></tr><tr><td><span>O_ALMOST_FULL</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port contains information about FIFO almost full flag</span></td></tr><tr><td><span>O_FULL</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port contains information about FIFO full flag</span></td></tr><tr><td><span>O_DATA_VALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port is used during handshaking process when other modules ask AXI slave stream for new data</span></td></tr><tr><td><span>O_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>This port contains queue output data</span></td></tr><tr><td><span>I_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[ADDR_BIT-1:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>O_DEBUG_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-radixsortacceleratorv10m00axis'><span>Module radix_sort_accelerator_v1_0_M00_AXIS</span></h3><p><span>This module is implemented in radix_sort_accelerator_v1_0_M00_AXIS.v file</span></p><h4 id='module-dependencies-6'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart374" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="252.79998779296875" style="max-width: 347.125px;" viewBox="0 0.0000019073486328125 347.125 252.79998779296875" class="md-require-zoom-fix"><style>#mermaidChart374{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart374 .error-icon{fill:#552222;}#mermaidChart374 .error-text{fill:#552222;stroke:#552222;}#mermaidChart374 .edge-thickness-normal{stroke-width:2px;}#mermaidChart374 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart374 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart374 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart374 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart374 .marker{fill:#333333;}#mermaidChart374 .marker.cross{stroke:#333333;}#mermaidChart374 svg{font-family:sans-serif;font-size:16px;}#mermaidChart374 .label{font-family:sans-serif;color:#333;}#mermaidChart374 .label text{fill:#333;}#mermaidChart374 .node rect,#mermaidChart374 .node circle,#mermaidChart374 .node ellipse,#mermaidChart374 .node polygon,#mermaidChart374 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart374 .node .label{text-align:center;}#mermaidChart374 .node.clickable{cursor:pointer;}#mermaidChart374 .arrowheadPath{fill:#333333;}#mermaidChart374 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart374 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart374 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart374 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart374 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart374 .cluster text{fill:#333;}#mermaidChart374 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart374:root{--mermaid-font-family:sans-serif;}#mermaidChart374:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart374 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id1 LE-id2" id="L-id1-id2" style="opacity: 1;"><path class="path" d="M173.5625,53.599998474121094L173.5625,78.5999984741211L173.5625,103.5999984741211" marker-end="url(#arrowhead3499)" style="fill:none"></path><defs><marker id="arrowhead3499" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id2 LE-id3" id="L-id2-id3" style="opacity: 1;"><path class="path" d="M173.5625,149.1999969482422L173.5625,174.1999969482422L173.5625,199.1999969482422" marker-end="url(#arrowhead3500)" style="fill:none"></path><defs><marker id="arrowhead3500" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id1-3977" transform="translate(173.5625,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-165.56250309944153" y="-22.800000190734863" width="331.12500619888306" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-149.8625030517578,-12.800000190734863)"><foreignObject width="299.7250061035156" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_v1_0_M00_AXIS.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id2-3978" transform="translate(173.5625,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-88.63750004768372" y="-22.800000190734863" width="177.27500009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-72.9375,-12.800000190734863)"><foreignObject width="145.875" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">stream_queue_out.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id3-3979" transform="translate(173.5625,221.99999618530273)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-55.72656178474426" y="-22.800000190734863" width="111.45312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.02656173706055,-12.800000190734863)"><foreignObject width="80.0531234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_tdp.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-6'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>FIFO_ADDR_BIT</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>User parameter FIFO Address bit</span></td></tr><tr><td><span>C_M_AXIS_TDATA_WIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>AXI Parameter Width of S_AXIS address bus. The slave accepts the read and write addresses of width C_M_AXIS_TDATA_WIDTH.</span></td></tr><tr><td><span>IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b00</span></td><td><span>State for sending stream data through output port</span></td></tr><tr><td><span>WAIT_FIFO</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b01</span></td><td><span>State for sending stream data through output port</span></td></tr><tr><td><span>SEND_STREAM</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b10</span></td><td><span>State for sending stream data through output port</span></td></tr></tbody></table></figure><h4 id='module-ports-6'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_FIFO_IN_QUEUE</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal for storing data to FIFO</span></td></tr><tr><td><span>I_FIFO_IN_DATA</span></td><td><span>in</span></td><td><span>[C_M_AXIS_TDATA_WIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_FIFO_ALMOST_FULL</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_FIFO_OUT_FULL</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_NO_OF_TRANSACTION</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>FSM Signal</span></td></tr><tr><td><span>O_FSM_STREAM_MASTER</span></td><td><span>out</span></td><td><span>[7:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DATA_SEND_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_FIFO_STATUS</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td><span>Debug signal</span></td></tr><tr><td><span>M_AXIS_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>AXI master stream clock signal</span></td></tr><tr><td><span>M_AXIS_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>AXI master stream reset signal (active low)</span></td></tr><tr><td><span>M_AXIS_TVALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Master Stream Ports. TVALID indicates that the master is driving a valid transfer, A transfer takes place when both TVALID and TREADY are asserted.</span></td></tr><tr><td><span>M_AXIS_TDATA</span></td><td><span>out</span></td><td><span>[C_M_AXIS_TDATA_WIDTH-1:0] logic</span></td><td><span>TDATA is the primary payload that is used to provide the data that is passing across the interface from the master.</span></td></tr><tr><td><span>M_AXIS_TSTRB</span></td><td><span>out</span></td><td><span>[(C_M_AXIS_TDATA_WIDTH/8)-1:0] logic</span></td><td><span>TSTRB is the byte qualifier that indicates whether the content of the associated byte of TDATA is processed as a data byte or a position byte.</span></td></tr><tr><td><span>M_AXIS_TLAST</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>TLAST indicates the boundary of a packet.</span></td></tr><tr><td><span>M_AXIS_TREADY</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>TREADY indicates that the slave can accept a transfer in the current cycle.</span></td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-streamqueueout'><span>Module stream_queue_out</span></h3><p><span>This module is implemented in stream_queue_out.v file</span></p><h4 id='module-dependencies-7'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart375" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="157.20001220703125" style="max-width: 193.27499389648438px;" viewBox="0.00000762939453125 0.0000019073486328125 193.27499389648438 157.20001220703125" class="md-require-zoom-fix"><style>#mermaidChart375{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart375 .error-icon{fill:#552222;}#mermaidChart375 .error-text{fill:#552222;stroke:#552222;}#mermaidChart375 .edge-thickness-normal{stroke-width:2px;}#mermaidChart375 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart375 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart375 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart375 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart375 .marker{fill:#333333;}#mermaidChart375 .marker.cross{stroke:#333333;}#mermaidChart375 svg{font-family:sans-serif;font-size:16px;}#mermaidChart375 .label{font-family:sans-serif;color:#333;}#mermaidChart375 .label text{fill:#333;}#mermaidChart375 .node rect,#mermaidChart375 .node circle,#mermaidChart375 .node ellipse,#mermaidChart375 .node polygon,#mermaidChart375 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart375 .node .label{text-align:center;}#mermaidChart375 .node.clickable{cursor:pointer;}#mermaidChart375 .arrowheadPath{fill:#333333;}#mermaidChart375 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart375 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart375 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart375 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart375 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart375 .cluster text{fill:#333;}#mermaidChart375 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart375:root{--mermaid-font-family:sans-serif;}#mermaidChart375:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart375 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id1 LE-id2" id="L-id1-id2" style="opacity: 1;"><path class="path" d="M96.63749694824219,53.599998474121094L96.63749694824219,78.5999984741211L96.63749694824219,103.5999984741211" marker-end="url(#arrowhead3507)" style="fill:none"></path><defs><marker id="arrowhead3507" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id1-3982" transform="translate(96.63749694824219,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-88.63750004768372" y="-22.800000190734863" width="177.27500009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-72.9375,-12.800000190734863)"><foreignObject width="145.875" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">stream_queue_out.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id2-3983" transform="translate(96.63749694824219,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-55.72656178474426" y="-22.800000190734863" width="111.45312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.02656173706055,-12.800000190734863)"><foreignObject width="80.0531234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_tdp.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-7'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>unknown</span></td><td><span>128</span></td><td><span>Stream out data width</span></td></tr><tr><td><span>SIZE</span></td><td><span>unknown</span></td><td><span>1024</span></td><td><span>Stream out FIFO depth</span></td></tr><tr><td><span>ADDR_BIT</span></td><td><span>unknown</span></td><td><span>10</span></td><td><span>Stream out FIFO address bit</span></td></tr></tbody></table></figure><h4 id='module-ports-7'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_CLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_RSTN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (</span><strong><span>active low</span></strong><span>)</span></td></tr><tr><td><span>I_QUEUE</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>This port is used by FIFO to queue (store) input data</span></td></tr><tr><td><span>I_DEQUEUE</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>This port is used by FIFO to dequeue (send) data</span></td></tr><tr><td><span>I_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Input data port</span></td></tr><tr><td><span>O_EMPTY</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Output data port</span></td></tr><tr><td><span>O_ALMOST_FULL</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port contains information about FIFO empty flag</span></td></tr><tr><td><span>O_FULL</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port contains information about FIFO full flag</span></td></tr><tr><td><span>O_DATA_VALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This port is used during handshaking process when other modules ask AXI slave stream for new data</span></td></tr><tr><td><span>O_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>This port contains queue output data</span></td></tr><tr><td><span>O_DATA_INDEX</span></td><td><span>out</span></td><td><span>[ADDR_BIT-1:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>I_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[ADDR_BIT-1:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr><tr><td><span>O_DEBUG_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><strong><span>Not used in current design</span></strong></td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-radixsortacceleratormainunit'><span>Module radix_sort_accelerator_main_unit</span></h3><p><span>This module is implemented in radix_sort_accelerator_main_unit.v file</span></p><h4 id='module-dependencies-8'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart376" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="252.79998779296875" style="max-width: 1321.19384765625px;" viewBox="0 0.0000019073486328125 1321.19384765625 252.79998779296875" class="md-require-zoom-fix"><style>#mermaidChart376{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart376 .error-icon{fill:#552222;}#mermaidChart376 .error-text{fill:#552222;stroke:#552222;}#mermaidChart376 .edge-thickness-normal{stroke-width:2px;}#mermaidChart376 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart376 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart376 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart376 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart376 .marker{fill:#333333;}#mermaidChart376 .marker.cross{stroke:#333333;}#mermaidChart376 svg{font-family:sans-serif;font-size:16px;}#mermaidChart376 .label{font-family:sans-serif;color:#333;}#mermaidChart376 .label text{fill:#333;}#mermaidChart376 .node rect,#mermaidChart376 .node circle,#mermaidChart376 .node ellipse,#mermaidChart376 .node polygon,#mermaidChart376 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart376 .node .label{text-align:center;}#mermaidChart376 .node.clickable{cursor:pointer;}#mermaidChart376 .arrowheadPath{fill:#333333;}#mermaidChart376 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart376 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart376 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart376 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart376 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart376 .cluster text{fill:#333;}#mermaidChart376 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart376:root{--mermaid-font-family:sans-serif;}#mermaidChart376:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart376 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id1 LE-id2" id="L-id1-id2" style="opacity: 1;"><path class="path" d="M460.35314178466797,44.59922987670204L114.875,78.5999984741211L114.875,103.5999984741211" marker-end="url(#arrowhead3527)" style="fill:none"></path><defs><marker id="arrowhead3527" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id3" id="L-id1-id3" style="opacity: 1;"><path class="path" d="M479.21257381459276,53.599998474121094L346.1500015258789,78.5999984741211L346.1500015258789,103.5999984741211" marker-end="url(#arrowhead3528)" style="fill:none"></path><defs><marker id="arrowhead3528" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id4" id="L-id1-id4" style="opacity: 1;"><path class="path" d="M600.5656356811523,53.599998474121094L600.5656356811523,78.5999984741211L600.5656356811523,103.5999984741211" marker-end="url(#arrowhead3529)" style="fill:none"></path><defs><marker id="arrowhead3529" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id5" id="L-id1-id5" style="opacity: 1;"><path class="path" d="M740.7781295776367,46.3672912229602L1031.093765258789,78.5999984741211L1031.093765258789,103.5999984741211" marker-end="url(#arrowhead3530)" style="fill:none"></path><defs><marker id="arrowhead3530" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id1 LE-id6" id="L-id1-id6" style="opacity: 1;"><path class="path" d="M740.7781295776367,41.47982347797104L1228.1187629699707,78.5999984741211L1228.1187629699707,103.5999984741211" marker-end="url(#arrowhead3531)" style="fill:none"></path><defs><marker id="arrowhead3531" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id2 LE-id7" id="L-id2-id7" style="opacity: 1;"><path class="path" d="M114.875,149.1999969482422L114.875,174.1999969482422L114.875,199.1999969482422" marker-end="url(#arrowhead3532)" style="fill:none"></path><defs><marker id="arrowhead3532" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id4 LE-id8" id="L-id4-id8" style="opacity: 1;"><path class="path" d="M529.2718887329102,140.13082408079129L352.3765640258789,174.1999969482422L352.3765640258789,199.1999969482422" marker-end="url(#arrowhead3533)" style="fill:none"></path><defs><marker id="arrowhead3533" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id4 LE-id9" id="L-id4-id9" style="opacity: 1;"><path class="path" d="M600.5656356811523,149.1999969482422L600.5656356811523,174.1999969482422L600.5656356811523,199.1999969482422" marker-end="url(#arrowhead3534)" style="fill:none"></path><defs><marker id="arrowhead3534" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id4 LE-id10" id="L-id4-id10" style="opacity: 1;"><path class="path" d="M671.8593826293945,141.07819202228495L832.735954284668,174.1999969482422L832.735954284668,199.1999969482422" marker-end="url(#arrowhead3535)" style="fill:none"></path><defs><marker id="arrowhead3535" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id5 LE-id11" id="L-id5-id11" style="opacity: 1;"><path class="path" d="M1031.093765258789,149.1999969482422L1031.093765258789,174.1999969482422L1031.093765258789,199.1999969482422" marker-end="url(#arrowhead3536)" style="fill:none"></path><defs><marker id="arrowhead3536" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id1-4004" transform="translate(600.5656356811523,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-140.21250462532043" y="-22.800000190734863" width="280.42500925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-124.51250457763672,-12.800000190734863)"><foreignObject width="249.02500915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sort_accelerator_main_unit.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id2-4005" transform="translate(114.875,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-106.87500309944153" y="-22.800000190734863" width="213.75000619888306" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-91.17500305175781,-12.800000190734863)"><foreignObject width="182.35000610351562" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">status_and_control_unit.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id3-4007" transform="translate(346.1500015258789,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-74.40000081062317" y="-22.800000190734863" width="148.80000162124634" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-58.70000076293945,-12.800000190734863)"><foreignObject width="117.4000015258789" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">dma_controller.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id4-4009" transform="translate(600.5656356811523,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-71.29375004768372" y="-22.800000190734863" width="142.58750009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-55.59375,-12.800000190734863)"><foreignObject width="111.1875" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">data_ordering.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id5-4011" transform="translate(1031.093765258789,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-61.950000047683716" y="-22.800000190734863" width="123.90000009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-46.25,-12.800000190734863)"><foreignObject width="92.5" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_bank.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id6-4013" transform="translate(1228.1187629699707,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-85.07500004768372" y="-22.800000190734863" width="170.15000009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-69.375,-12.800000190734863)"><foreignObject width="138.75" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">radix_sorting_unit.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id7-4015" transform="translate(114.875,221.99999618530273)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-78.85156178474426" y="-22.800000190734863" width="157.70312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-63.15156173706055,-12.800000190734863)"><foreignObject width="126.3031234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">scu_bram_bank.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id8-4017" transform="translate(352.3765640258789,221.99999618530273)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-108.65000462532043" y="-22.800000190734863" width="217.30000925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-92.95000457763672,-12.800000190734863)"><foreignObject width="185.90000915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">load_instruction_module.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id9-4019" transform="translate(600.5656356811523,221.99999618530273)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-89.53906559944153" y="-22.800000190734863" width="179.07813119888306" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-73.83906555175781,-12.800000190734863)"><foreignObject width="147.67813110351562" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">load_input_module.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id10-4021" transform="translate(832.735954284668,221.99999618530273)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-92.63125157356262" y="-22.800000190734863" width="185.26250314712524" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-76.9312515258789,-12.800000190734863)"><foreignObject width="153.8625030517578" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">stream_out_module.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id11-4023" transform="translate(1031.093765258789,221.99999618530273)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-55.72656178474426" y="-22.800000190734863" width="111.45312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.02656173706055,-12.800000190734863)"><foreignObject width="80.0531234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_tdp.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-8'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>BRAM selector logic bitwidth</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default Instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bitwidth</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bitwidth</span></td></tr><tr><td><span>NOT_USED</span></td><td><span>integer</span></td><td><span>0</span></td><td><span>Unused FSM state</span></td></tr></tbody></table></figure><h4 id='module-ports-8'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (active low)</span></td></tr><tr><td><span>I_GLOBAL_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal From PS</span></td></tr><tr><td><span>I_ADDR_INPUT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_ADDR_INSTRUCTION</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_ADDR_OUTPUT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_FORCE_LOAD_INSTRUCTION</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_PROGRAM_COUNTER</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td><span>Monitor Signal</span></td></tr><tr><td><span>O_STATE_LOGGER_DATA</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_BRAM_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Debug BRAM</span></td></tr><tr><td><span>I_BRAM_MODE_DEBUG</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_INSTRUCTION</span></td><td><span>out</span></td><td><span>[63:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_WEIGHT</span></td><td><span>out</span></td><td><span>[71:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_FMAP</span></td><td><span>out</span></td><td><span>[127:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_BIAS</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_OUT_0</span></td><td><span>out</span></td><td><span>[447:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_OUT_1</span></td><td><span>out</span></td><td><span>[447:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_DLQ</span></td><td><span>out</span></td><td><span>[447:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_BRAM_DEBUG_MP</span></td><td><span>out</span></td><td><span>[447:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_REG_DEBUG_SCALE_POS</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_REG_DEBUG_SCALE_NEG</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_STREAM_FIFO</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_STREAM_DEQUEUE</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_STREAM_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_STREAM_EMPTY</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_STREAM_FIFO</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_STREAM_QUEUE</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_STREAM_FULL</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_STREAM_ALMOST_FULL</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_DATA_SEND_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_REG_ADDRESS</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_REG_DATA</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_INIT_AXI_TXN</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_DMA_AXI_TXN_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_NO_OF_TRANSACTION</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_TRANSFER_MODE</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_PL_TO_PS_IRQ</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_PC_CHANGED</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SCU_STATE_MACHINE</span></td><td><span>out</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_INTERNAL_COUNTER</span></td><td><span>out</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_INSTRUCTION_OUT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SORT_STATE</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_FIRST_STATE</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_EVEN_STATE</span></td><td><span>out</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_ODD_STATE</span></td><td><span>out</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DATA_STATE</span></td><td><span>out</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_LI_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_RS_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SO_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_ALL_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_POINTER0</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_POINTER1</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_ADDR1</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_ADDR2</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SORT_START</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SORT_START_DELAY</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-statusandcontrolunit'><span>Module status_and_control_unit</span></h3><p><span>This module is implemented in status_and_control_unit.v file</span></p><h4 id='module-dependencies-9'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart377" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="157.20001220703125" style="max-width: 229.75px;" viewBox="0 0.0000019073486328125 229.75 157.20001220703125" class="md-require-zoom-fix"><style>#mermaidChart377{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart377 .error-icon{fill:#552222;}#mermaidChart377 .error-text{fill:#552222;stroke:#552222;}#mermaidChart377 .edge-thickness-normal{stroke-width:2px;}#mermaidChart377 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart377 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart377 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart377 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart377 .marker{fill:#333333;}#mermaidChart377 .marker.cross{stroke:#333333;}#mermaidChart377 svg{font-family:sans-serif;font-size:16px;}#mermaidChart377 .label{font-family:sans-serif;color:#333;}#mermaidChart377 .label text{fill:#333;}#mermaidChart377 .node rect,#mermaidChart377 .node circle,#mermaidChart377 .node ellipse,#mermaidChart377 .node polygon,#mermaidChart377 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart377 .node .label{text-align:center;}#mermaidChart377 .node.clickable{cursor:pointer;}#mermaidChart377 .arrowheadPath{fill:#333333;}#mermaidChart377 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart377 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart377 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart377 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart377 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart377 .cluster text{fill:#333;}#mermaidChart377 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart377:root{--mermaid-font-family:sans-serif;}#mermaidChart377:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart377 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id2 LE-id7" id="L-id2-id7" style="opacity: 1;"><path class="path" d="M114.875,53.599998474121094L114.875,78.5999984741211L114.875,103.5999984741211" marker-end="url(#arrowhead3543)" style="fill:none"></path><defs><marker id="arrowhead3543" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id2-4026" transform="translate(114.875,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-106.87500309944153" y="-22.800000190734863" width="213.75000619888306" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-91.17500305175781,-12.800000190734863)"><foreignObject width="182.35000610351562" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">status_and_control_unit.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id7-4027" transform="translate(114.875,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-78.85156178474426" y="-22.800000190734863" width="157.70312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-63.15156173706055,-12.800000190734863)"><foreignObject width="126.3031234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">scu_bram_bank.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-9'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>BRAM selector logic bitwidth</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default Instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bitwidth</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bitwidth</span></td></tr><tr><td><span>SCU_IDLE</span></td><td><span>[3:0] logic</span></td><td><span>4&#39;d0</span></td><td><span>Declare localparam</span></td></tr><tr><td><span>SCU_WAIT_SETUP</span></td><td><span>[3:0] logic</span></td><td><span>4&#39;d1</span></td><td><span>Declare localparam</span></td></tr><tr><td><span>SCU_LOAD_INSTRUCTION</span></td><td><span>[3:0] logic</span></td><td><span>4&#39;d2</span></td><td><span>Declare localparam</span></td></tr><tr><td><span>SCU_RUNNING</span></td><td><span>[3:0] logic</span></td><td><span>4&#39;d3</span></td><td><span>Declare localparam</span></td></tr></tbody></table></figure><h4 id='module-ports-9'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_GLOBAL_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal From PS</span></td></tr><tr><td><span>I_FORCE_LOAD_INSTRUCTION</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Also work as debug signal for BRAM Bank Mode</span></td></tr><tr><td><span>I_BRAM_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_PL_TO_PS_IRQ</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_STATE_LOGGER_DATA</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_INSTRUCTION_DATA</span></td><td><span>in</span></td><td><span>[63:0] logic</span></td><td><span>Monitor Signal</span></td></tr><tr><td><span>O_PROGRAM_COUNTER</span></td><td><span>out</span></td><td><span>[INSTADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_LOAD_INSTRUCTION_START</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Load Instruction Channel</span></td></tr><tr><td><span>I_LOAD_INSTRUCTION_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_LI_START</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Load Input Channel</span></td></tr><tr><td><span>O_LI_NO_OF_ROW</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_LI_START_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_LI_SEL</span></td><td><span>out</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_LI_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SO_START</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Stream Out</span></td></tr><tr><td><span>O_SO_START_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SO_END_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_SO_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_START</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>DMA Controller &lt;===&gt; SCU //</span></td></tr><tr><td><span>O_DMA_ADDR</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_BYTE_TO_TRANSFER</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_NO_OF_TRANSACTION</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_MODE</span></td><td><span>out</span></td><td><span>[2:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_DMA_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_DATA_SEND_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SORTING_START</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Radix Sorting &lt;===&gt; SCU //</span></td></tr><tr><td><span>I_SORTING_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_LI_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_RS_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SO_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_ALL_COUNT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_PC_CHANGED</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_SCU_STATE_MACHINE</span></td><td><span>out</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_INTERNAL_COUNTER</span></td><td><span>out</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_INSTRUCTION_OUT</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-scubrambank'><span>Module scu_bram_bank</span></h3><p><span>This module is implemented in scu_bram_bank.v file</span></p><h4 id='module-dependencies-10'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart378" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 173.703125px;" viewBox="0 0.0000019073486328125 173.703125 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart378{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart378 .error-icon{fill:#552222;}#mermaidChart378 .error-text{fill:#552222;stroke:#552222;}#mermaidChart378 .edge-thickness-normal{stroke-width:2px;}#mermaidChart378 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart378 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart378 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart378 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart378 .marker{fill:#333333;}#mermaidChart378 .marker.cross{stroke:#333333;}#mermaidChart378 svg{font-family:sans-serif;font-size:16px;}#mermaidChart378 .label{font-family:sans-serif;color:#333;}#mermaidChart378 .label text{fill:#333;}#mermaidChart378 .node rect,#mermaidChart378 .node circle,#mermaidChart378 .node ellipse,#mermaidChart378 .node polygon,#mermaidChart378 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart378 .node .label{text-align:center;}#mermaidChart378 .node.clickable{cursor:pointer;}#mermaidChart378 .arrowheadPath{fill:#333333;}#mermaidChart378 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart378 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart378 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart378 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart378 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart378 .cluster text{fill:#333;}#mermaidChart378 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart378:root{--mermaid-font-family:sans-serif;}#mermaidChart378:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart378 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id7-4029" transform="translate(86.8515625,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-78.85156178474426" y="-22.800000190734863" width="157.70312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-63.15156173706055,-12.800000190734863)"><foreignObject width="126.3031234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">scu_bram_bank.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-10'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>BRAM selector logic bitwidth</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default Instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bitwidth</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bitwidth</span></td></tr><tr><td><span>STATE_IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b00</span></td><td><span>State machine</span></td></tr><tr><td><span>STATE_SET</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b01</span></td><td><span>State machine</span></td></tr><tr><td><span>STATE_INCREMENT</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b10</span></td><td><span>State machine</span></td></tr><tr><td><span>STATE_DONE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b11</span></td><td><span>State machine</span></td></tr></tbody></table></figure><h4 id='module-ports-10'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock and Reset</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_SEL_REG</span></td><td><span>in</span></td><td><span>[7:0] logic</span></td><td><span>Input from SCU</span></td></tr><tr><td><span>I_SEL_MULTIPLE</span></td><td><span>in</span></td><td><span>[7:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_EN_MULTIPLE</span></td><td><span>in</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_SEL_COL</span></td><td><span>in</span></td><td><span>[3:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_VALUE</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_MODE</span></td><td><span>in</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;b00 = nothing, 2&#39;b01 = set reg, 2&#39;b10 = increment reg, 2&#39;b11 = do loop</span></td></tr><tr><td><span>I_INSTRUCTION_OPCODE</span></td><td><span>in</span></td><td><span>[7:0] logic</span></td><td>&nbsp;</td></tr><tr><td><span>I_START</span></td><td><span>in</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr><tr><td><span>O_DMA_ADDRESS</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td><span>Signal from status and control unit which contains information about DRAM read/write address (</span><strong><span>not used in current design</span></strong><span> since the transaction always start at input, instruction, or output base address)</span></td></tr><tr><td><span>O_DMA_BYTE_TO_TRANSFER</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td><span>Signal from status and control unit which contains information about number of byte the DMA should read/write from/to DRAM</span></td></tr><tr><td><span>O_DMA_NO_OF_TRANSACTION</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td><span>Signal from status and control unit which contains information about the number of transaction the DMA should perform to read data from DRAM to BRAM. This number can be calculated by dividing total number of bytes by 16 since one DMA transaction transfer 8 bytes of data at a time</span></td></tr><tr><td><span>O_LI_START_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Signal that is used to set the initial BRAM address for load input process</span></td></tr><tr><td><span>O_SO_START_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information about first address of the output data in the BRAM</span></td></tr><tr><td><span>O_SO_END_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information about last address of the output data in the BRAM</span></td></tr><tr><td><span>O_LOOP_I</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Number of I loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_LOOP_I_MAX</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Maximum number of I loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_LOOP_J</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Number of J loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_LOOP_J_MAX</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Maximum number of J loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_LOOP_K</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Number of K loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_LOOP_K_MAX</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Maximum number of K loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_LOOP_L</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Number of L loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_LOOP_L_MAX</span></td><td><span>out</span></td><td><span>[15:0] logic</span></td><td><span>Maximum number of L loop in instruction (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-dmacontroller'><span>Module dma_controller</span></h3><p><span>This module is implemented in dma_controller.v file</span></p><h4 id='module-dependencies-11'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart379" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 164.8000030517578px;" viewBox="0 0.0000019073486328125 164.8000030517578 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart379{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart379 .error-icon{fill:#552222;}#mermaidChart379 .error-text{fill:#552222;stroke:#552222;}#mermaidChart379 .edge-thickness-normal{stroke-width:2px;}#mermaidChart379 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart379 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart379 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart379 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart379 .marker{fill:#333333;}#mermaidChart379 .marker.cross{stroke:#333333;}#mermaidChart379 svg{font-family:sans-serif;font-size:16px;}#mermaidChart379 .label{font-family:sans-serif;color:#333;}#mermaidChart379 .label text{fill:#333;}#mermaidChart379 .node rect,#mermaidChart379 .node circle,#mermaidChart379 .node ellipse,#mermaidChart379 .node polygon,#mermaidChart379 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart379 .node .label{text-align:center;}#mermaidChart379 .node.clickable{cursor:pointer;}#mermaidChart379 .arrowheadPath{fill:#333333;}#mermaidChart379 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart379 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart379 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart379 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart379 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart379 .cluster text{fill:#333;}#mermaidChart379 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart379:root{--mermaid-font-family:sans-serif;}#mermaidChart379:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart379 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id3-4031" transform="translate(82.4000015258789,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-74.40000081062317" y="-22.800000190734863" width="148.80000162124634" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-58.70000076293945,-12.800000190734863)"><foreignObject width="117.4000015258789" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">dma_controller.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-11'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d0</span></td><td><span>Common DMA state machine</span></td></tr><tr><td><span>RUNNING</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d1</span></td><td><span>Common DMA state machine</span></td></tr><tr><td><span>DONE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d2</span></td><td><span>Common DMA state machine</span></td></tr><tr><td><span>TF_MODE_IDLE</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d0</span></td><td><span>Local DMA state machine (</span><strong><span>idle mode</span></strong><span>)</span></td></tr><tr><td><span>TF_MODE_ON</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d1</span></td><td><span>Local DMA state machine (</span><strong><span>DMA on mode</span></strong><span>)</span></td></tr><tr><td><span>TF_MODE_READ_RAM</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d2</span></td><td><span>Local DMA state machine (</span><strong><span>DMA read mode</span></strong><span>)</span></td></tr><tr><td><span>TF_MODE_WRITE_RAM</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d3</span></td><td><span>Local DMA state machine (</span><strong><span>DMA write mode</span></strong><span>)</span></td></tr><tr><td><span>TF_MODE_LOAD_INSTRUCTION</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d4</span></td><td><span>Local DMA state machine (</span><strong><span>DMA load instruction mode</span></strong><span>)</span></td></tr><tr><td><span>TF_MODE_DONE</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d5</span></td><td><span>Local DMA state machine (</span><strong><span>transaction done</span></strong><span>)</span></td></tr></tbody></table></figure><h4 id='module-ports-11'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (</span><strong><span>active low</span></strong><span>)</span></td></tr><tr><td><span>I_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from status and control unit to start DMA controller</span></td></tr><tr><td><span>I_ADDR</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Signal from status and control unit which contains information about DRAM read/write address (</span><strong><span>not used in current design</span></strong><span> since the transaction always start at input, instruction, or output base address)</span></td></tr><tr><td><span>I_BYTE_TO_TRANSFER</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Signal from status and control unit which contains information about number of byte the DMA should read/write from/to DRAM</span></td></tr><tr><td><span>I_NO_OF_RECV_TRANSACTION</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Signal from status and control unit which contains information about the number of transaction the DMA should perform to read data from DRAM to BRAM. This number can be calculated by dividing total number of bytes by 16 since one DMA transaction transfer 8 bytes of data at a time</span></td></tr><tr><td><span>I_MODE</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td><span>Signal from status and control unit which determines DMA operation mode (</span><strong><span>DMA On</span></strong><span>, </span><strong><span>Read RAM</span></strong><span>, </span><strong><span>Write RAM</span></strong><span>, or </span><strong><span>Load Instruction</span></strong><span>)</span></td></tr><tr><td><span>I_ADDR_INPUT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Unsorted input base address in DRAM</span></td></tr><tr><td><span>I_ADDR_INSTRUCTION</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Instruction base address in DRAM</span></td></tr><tr><td><span>I_ADDR_OUTPUT</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Sorted output base address in DRAM</span></td></tr><tr><td><span>O_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for marking the end of DMA transaction</span></td></tr><tr><td><span>O_DMA_REG_ADDRESS</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td><span>Signal from DMA controller to AXI lite master which contains information about DRAM read/write address</span></td></tr><tr><td><span>O_DMA_REG_DATA</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td><span>Signal from DMA controller to AXI lite master which contains information about number of bytes the DMA needs to send/receive</span></td></tr><tr><td><span>O_DMA_INIT_AXI_TXN</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal from DMA controller to AXI lite master which marks the start of DMA transaction</span></td></tr><tr><td><span>I_DMA_AXI_TXN_DONE</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from AXI lite master to DMA controller which marks the end of DMA transaction</span></td></tr><tr><td><span>O_DMA_NO_OF_TRANSACTION</span></td><td><span>out</span></td><td><span>[31:0] logic</span></td><td><span>Signal from DMA controller to AXI lite master which contains information about number of transaction DMA needs to perform</span></td></tr><tr><td><span>O_DMA_TRANSFER_MODE</span></td><td><span>out</span></td><td><span>[1:0] logic</span></td><td><span>Signal from DMA controller to AXI lite master which contains information about DMA operation mode (</span><strong><span>DMA On</span></strong><span>, </span><strong><span>Read RAM</span></strong><span>, </span><strong><span>Write RAM</span></strong><span>, or </span><strong><span>Load Instruction</span></strong><span>)</span></td></tr><tr><td><span>I_BRAM_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Debug port (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr></tbody></table></figure><h4 id='rtl-breakdown-1'><span>RTL Breakdown</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; General State Machine Logic &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare local parameters</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">localparam</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">IDLE</span> &nbsp; &nbsp;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">RUNNING</span> <span class="cm-meta">=</span> <span class="cm-number">2'd1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">DONE</span> &nbsp; &nbsp;<span class="cm-meta">=</span> <span class="cm-number">2'd2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare local parameters</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">localparam</span> <span class="cm-bracket">[</span><span class="cm-number">2</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">TF_MODE_IDLE</span> <span class="cm-meta">=</span> <span class="cm-number">3'd0</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_ON</span> <span class="cm-meta">=</span> <span class="cm-number">3'd1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_READ_RAM</span> <span class="cm-meta">=</span> <span class="cm-number">3'd2</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_WRITE_RAM</span> <span class="cm-meta">=</span> <span class="cm-number">3'd3</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_LOAD_INSTRUCTION</span> <span class="cm-meta">=</span> <span class="cm-number">3'd4</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_DONE</span> <span class="cm-meta">=</span> <span class="cm-number">3'd5</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare registers</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_internal_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">2</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_dma_controller_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign done and stream send signal value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DONE</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">DONE</span><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// State machine logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">IDLE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_start_pulse</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">RUNNING</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_dma_controller_state</span> <span class="cm-meta">==</span> <span class="cm-variable">TF_MODE_DONE</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DONE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">DONE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1478px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1478px;"></div></div></div></pre><p><span>The code snippet above shows the common state machine logic inside the DMA controller module. By default, DMA controller module will stay at IDLE state until the module receive </span><strong><span>start_pulse</span></strong><span> signal generated by using I_START signal from status and control unit. When </span><strong><span>start_pulse</span></strong><span> signal is asserted, load input  module state will change into RUNNING state and will retain the state until </span><strong><span>r_dma_controller_state</span></strong><span> reach </span><strong><span>TF_MODE_DONE</span></strong><span> state. If </span><strong><span>r_dma_controller_state</span></strong><span> reach </span><strong><span>TF_MODE_DONE</span></strong><span> state is asserted, the common DMA state will change into DONE state and come back to IDLE state one clock cycle later. </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; DMA Operation Logic &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare registers</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">3</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_no_of_req_issued</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-number">3</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_no_of_req_max</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// State logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">TF_MODE_IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_dma_controller_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_IDLE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">I_MODE</span> <span class="cm-meta">==</span> <span class="cm-number">0</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">TF_MODE_ON</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">I_MODE</span> <span class="cm-meta">==</span> <span class="cm-number">1</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">TF_MODE_READ_RAM</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">I_MODE</span> <span class="cm-meta">==</span> <span class="cm-number">2</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">TF_MODE_WRITE_RAM</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">I_MODE</span> <span class="cm-meta">==</span> <span class="cm-number">3</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">TF_MODE_LOAD_INSTRUCTION</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">TF_MODE_IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_ON</span>, <span class="cm-variable">TF_MODE_READ_RAM</span>, <span class="cm-variable">TF_MODE_WRITE_RAM</span>, <span class="cm-variable">TF_MODE_LOAD_INSTRUCTION</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">((</span><span class="cm-variable">r_no_of_req_issued</span> <span class="cm-meta">==</span> <span class="cm-bracket">(</span><span class="cm-variable">w_no_of_req_max</span><span class="cm-meta">-</span><span class="cm-number">1</span><span class="cm-bracket">))</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-variable">I_DMA_AXI_TXN_DONE</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">TF_MODE_DONE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_dma_controller_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_dma_controller_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_dma_controller_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Request issued logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_no_of_req_issued</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">I_DMA_AXI_TXN_DONE</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_no_of_req_issued</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_no_of_req_issued</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_no_of_req_issued</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_no_of_req_issued</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Request max logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_no_of_req_max</span> <span class="cm-meta">=</span> <span class="cm-number">1</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1814px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1814px;"></div></div></div></pre><p><span>The code snippet above shows the logic behind DMA controller local state machine. Initially, local DMA state machine will be in IDLE state since the common DMA controller state machine is not in RUNNING mode. When DMA controller common state machine changes to RUNNING mode the local DMA state machine will change its state according to I_MODE signal from status and control unit. The possible state machine for local DMA state machine is listed below:</span></p><ul><li><span>If </span><strong><span>I_MODE equal to 0</span></strong><span>, local DMA state machine will change into </span><strong><span>TF_MODE_ON</span></strong><span> state. This state will </span><strong><span>turn on the DMA</span></strong><span> block.</span></li><li><span>If </span><strong><span>I_MODE equal to 1</span></strong><span>, local DMA state machine will change into </span><strong><span>TF_MODE_READ_RAM</span></strong><span> state. This state will set </span><strong><span>DMA into read operation</span></strong><span> mode.</span></li><li><span>If </span><strong><span>I_MODE equal to 2</span></strong><span>, local DMA state machine will change into </span><strong><span>TF_MODE_WRITE_RAM</span></strong><span> state. This state will set </span><strong><span>DMA into write operation</span></strong><span> mode.</span></li><li><span>If </span><strong><span>I_MODE equal to 3</span></strong><span>, local DMA state machine will change into </span><strong><span>TF_MODE_LOAD_INSTRUCTION</span></strong><span> state. This state will set </span><strong><span>DMA into read operation</span></strong><span> mode.</span></li></ul><p><span>When the local DMA controller state is at one of </span><strong><span>TF_MODE_ON</span></strong><span>, </span><strong><span>TF_MODE_READ_RAM</span></strong><span>, </span><strong><span>TF_MODE_WRITE_RAM</span></strong><span>, or </span><strong><span>TF_MODE_LOAD_INSTRUCTION</span></strong><span> state and DMA controller receive </span><strong><span>I_DMA_AXI_TXN_DONE</span></strong><span> signal from AXI lite master, the local DMA controller state will change into </span><strong><span>TF_MODE_DONE</span></strong><span> since the DMA transaction is complete. In the logic above, </span><strong><span>r_no_of_req_issued</span></strong><span> signal can be omitted since in current design, the maximum number of DMA transaction is limited to 1 transaction at a time.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//******************************//</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; Initial Counter Logic &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//******************************//</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare register</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_init_counter</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Counter logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span> <span class="cm-meta">||</span> <span class="cm-variable">I_DMA_AXI_TXN_DONE</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_init_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_dma_controller_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">TF_MODE_IDLE</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_init_counter</span> <span class="cm-meta">==</span> <span class="cm-number">3</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_init_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_init_counter</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_init_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_init_counter</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_init_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//****************************************//</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; Register Address and Data Logic &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//****************************************//</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare registers</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">31</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_reg_address</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">31</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_reg_data</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Address and data logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_address</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_data</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_dma_controller_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_ON</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_address</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">1</span>;</span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_data</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">1</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_READ_RAM</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_address</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">I_ADDR_INPUT</span>;</span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_data</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">I_BYTE_TO_TRANSFER</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_WRITE_RAM</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_address</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">I_ADDR_OUTPUT</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_data</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">I_BYTE_TO_TRANSFER</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TF_MODE_LOAD_INSTRUCTION</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_address</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">I_ADDR_INSTRUCTION</span>;</span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_data</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">8</span><span class="cm-meta">*</span><span class="cm-number">1024</span>; <span class="cm-comment">// 1024 x 64-bit instruction</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_address</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r_reg_data</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value to output port</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DMA_REG_ADDRESS</span> <span class="cm-meta">=</span> <span class="cm-variable">r_reg_address</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DMA_REG_DATA</span> <span class="cm-meta">=</span> <span class="cm-variable">r_reg_data</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DMA_NO_OF_TRANSACTION</span> <span class="cm-meta">=</span> <span class="cm-variable">I_NO_OF_RECV_TRANSACTION</span>; <span class="cm-comment">// Only Used when receiving data in iteration means bytes/16</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DMA_INIT_AXI_TXN</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_init_counter</span> <span class="cm-meta">==</span> <span class="cm-number">2</span><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// DMA transfer mode</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-meta">*</span><span class="cm-bracket">)</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">I_MODE</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">1</span>, <span class="cm-number">3</span>: <span class="cm-comment">// Read RAM or read instruction</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">O_DMA_TRANSFER_MODE</span> <span class="cm-meta">=</span> <span class="cm-number">1</span>; <span class="cm-comment">// Read RAM</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-number">2</span>: <span class="cm-comment">// Write RAM</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">O_DMA_TRANSFER_MODE</span> <span class="cm-meta">=</span> <span class="cm-number">2</span>; <span class="cm-comment">// Write RAM</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">O_DMA_TRANSFER_MODE</span> <span class="cm-meta">=</span> <span class="cm-number">0</span>; <span class="cm-comment">// IDLE</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">endcase</span> &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 2330px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2330px;"></div></div></div></pre><p><span>The code snippet above shows how DMA controller set the DMA address, DMA data (control register), and DMA operation mode. In the address and data logic section, DMA controller sets the address and number of byte to transfer according to DMA operation mode. The details of each operation mode can be seen below:</span></p><ul><li><p><span>If </span><strong><span>r_dma_controller_state equal to TF_MODE_ON</span></strong><span>, both </span><strong><span>r_reg_address</span></strong><span> and </span><strong><span>r_reg_data</span></strong><span> value will be set to 1 since in this mode, AXI lite master will only write data to DMA internal register for turning the DMA On without performing any transaction between DRAM and AXI stream slave.</span></p></li><li><p><span>If </span><strong><span>r_dma_controller_state equal to TF_MODE_READ_RAM</span></strong><span>, </span><strong><span>r_reg_address</span></strong><span> value will be set to </span><strong><span>I_ADDR_INPUT</span></strong><span> and </span><strong><span>r_reg_data</span></strong><span> value will be set to </span><strong><span>I_BYTE_TO_TRANSFER</span></strong><span> since we want to read </span><strong><span>I_BYTE_TO_TRANSFER</span></strong><span> byte of data from DRAM at address  </span><strong><span>I_ADDR_INPUT</span></strong><span>.</span></p></li><li><p><span>If </span><strong><span>r_dma_controller_state equal to TF_MODE_WRITE_RAM</span></strong><span>, </span><strong><span>r_reg_address</span></strong><span> value will be set to </span><strong><span>I_ADDR_OUTPUT</span></strong><span> and </span><strong><span>r_reg_data</span></strong><span> value will be set to </span><strong><span>I_BYTE_TO_TRANSFER</span></strong><span> since we want to write </span><strong><span>I_BYTE_TO_TRANSFER</span></strong><span> byte of data to DRAM at address  </span><strong><span>I_ADDR_OUTPUT</span></strong><span>.</span></p></li><li><p><span>If </span><strong><span>r_dma_controller_state equal to TF_MODE_LOAD_INSTRUCTION</span></strong><span>, </span><strong><span>r_reg_address</span></strong><span> value will be set to </span><strong><span>I_ADDR_INSTRUCTION</span></strong><span> and </span><strong><span>r_reg_data</span></strong><span> value will be set to </span><strong><span>8*1024</span></strong><span> since we want to read </span><strong><span>8*1024</span></strong><span> byte of data from DRAM at address  </span><strong><span>I_ADDR_INSTRUCTION</span></strong><span>.</span></p><p>&nbsp;</p></li></ul><h3 id='module-dataordering'><span>Module data_ordering</span></h3><p><span>This module is implemented in data_ordering.v file</span></p><h4 id='module-dependencies-12'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart380" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="157.20001220703125" style="max-width: 697.640625px;" viewBox="0 0.0000019073486328125 697.640625 157.20001220703125" class="md-require-zoom-fix"><style>#mermaidChart380{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart380 .error-icon{fill:#552222;}#mermaidChart380 .error-text{fill:#552222;stroke:#552222;}#mermaidChart380 .edge-thickness-normal{stroke-width:2px;}#mermaidChart380 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart380 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart380 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart380 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart380 .marker{fill:#333333;}#mermaidChart380 .marker.cross{stroke:#333333;}#mermaidChart380 svg{font-family:sans-serif;font-size:16px;}#mermaidChart380 .label{font-family:sans-serif;color:#333;}#mermaidChart380 .label text{fill:#333;}#mermaidChart380 .node rect,#mermaidChart380 .node circle,#mermaidChart380 .node ellipse,#mermaidChart380 .node polygon,#mermaidChart380 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart380 .node .label{text-align:center;}#mermaidChart380 .node.clickable{cursor:pointer;}#mermaidChart380 .arrowheadPath{fill:#333333;}#mermaidChart380 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart380 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart380 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart380 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart380 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart380 .cluster text{fill:#333;}#mermaidChart380 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart380:root{--mermaid-font-family:sans-serif;}#mermaidChart380:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart380 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id4 LE-id8" id="L-id4-id8" style="opacity: 1;"><path class="path" d="M293.54532623291016,44.530825606670184L116.6500015258789,78.5999984741211L116.6500015258789,103.5999984741211" marker-end="url(#arrowhead3554)" style="fill:none"></path><defs><marker id="arrowhead3554" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id4 LE-id9" id="L-id4-id9" style="opacity: 1;"><path class="path" d="M364.83907318115234,53.599998474121094L364.83907318115234,78.5999984741211L364.83907318115234,103.5999984741211" marker-end="url(#arrowhead3555)" style="fill:none"></path><defs><marker id="arrowhead3555" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-id4 LE-id10" id="L-id4-id10" style="opacity: 1;"><path class="path" d="M436.13282012939453,45.47819354816385L597.009391784668,78.5999984741211L597.009391784668,103.5999984741211" marker-end="url(#arrowhead3556)" style="fill:none"></path><defs><marker id="arrowhead3556" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id4-4038" transform="translate(364.83907318115234,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-71.29375004768372" y="-22.800000190734863" width="142.58750009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-55.59375,-12.800000190734863)"><foreignObject width="111.1875" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">data_ordering.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id8-4039" transform="translate(116.6500015258789,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-108.65000462532043" y="-22.800000190734863" width="217.30000925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-92.95000457763672,-12.800000190734863)"><foreignObject width="185.90000915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">load_instruction_module.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id9-4041" transform="translate(364.83907318115234,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-89.53906559944153" y="-22.800000190734863" width="179.07813119888306" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-73.83906555175781,-12.800000190734863)"><foreignObject width="147.67813110351562" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">load_input_module.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id10-4043" transform="translate(597.009391784668,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-92.63125157356262" y="-22.800000190734863" width="185.26250314712524" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-76.9312515258789,-12.800000190734863)"><foreignObject width="153.8625030517578" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">stream_out_module.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-12'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>BRAM selector logic bitwidth</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default Instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bitwidth</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bitwidth</span></td></tr></tbody></table></figure><h4 id='module-ports-12'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (</span><strong><span>active low</span></strong><span>)</span></td></tr><tr><td><span>O_STREAM_DEQUEUE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for dequeuing instruction or data from AXI stream slave queue</span></td></tr><tr><td><span>I_STREAM_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from AXI stream slave queue to mark instruction or data validity</span></td></tr><tr><td><span>I_STREAM_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Instruction or data from AXI stream slave queue</span></td></tr><tr><td><span>O_STREAM_QUEUE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This signal is used as a queue signal for AXI stream master queue</span></td></tr><tr><td><span>I_STREAM_FULL</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>This port carries AXI stream master queue full flag information</span></td></tr><tr><td><span>I_LOAD_INSTRUCTION_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from status and control unit to start load instruction process</span></td></tr><tr><td><span>O_LOAD_INSTRUCTION_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for marking the end of load instruction process</span></td></tr><tr><td><span>O_LOAD_INSTRUCTION_POINTER</span></td><td><span>out</span></td><td><span>[INSTADDRWIDTH-1:0] logic</span></td><td><span>Address pointer for instruction BRAM bank</span></td></tr><tr><td><span>O_LOAD_INSTRUCTION_VALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal from AXI stream slave queue to mark data validity</span></td></tr><tr><td><span>O_LOAD_INSTRUCTION_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Instruction data from AXI stream slave queue to instruction BRAM bank</span></td></tr><tr><td><span>I_LI_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from status and control unit to start load input process</span></td></tr><tr><td><span>I_LI_NO_OF_ROW</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Signal that is used to set the number of data (BRAM address) to be loaded</span></td></tr><tr><td><span>I_LI_START_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Signal that is used to set the initial BRAM address for load input process</span></td></tr><tr><td><span>I_LI_SEL</span></td><td><span>in</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Signal to select which BRAM input the data should be stored (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for marking the end of load input process</span></td></tr><tr><td><span>O_LI_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Address pointer for input BRAM bank</span></td></tr><tr><td><span>O_LI_VALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for writing data to input BRAM bank (</span><strong><span>write enable</span></strong><span>)</span></td></tr><tr><td><span>O_LI_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Data from AXI stream slave queue to input BRAM bank</span></td></tr><tr><td><span>O_LI_SEL</span></td><td><span>out</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Signal to select which BRAM input the data should be stored (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_SO_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal for starting stream out process</span></td></tr><tr><td><span>I_SO_START_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information about first address of the output data in the BRAM</span></td></tr><tr><td><span>I_SO_END_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information about last address of the output data in the BRAM</span></td></tr><tr><td><span>O_SO_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal marking the end of stream out process</span></td></tr><tr><td><span>O_SO_BRAM_SEL</span></td><td><span>out</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Signal for selecting BRAM (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_SO_SEND_DATA_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information that is used to control which data needs to be sent from BRAM to AXI stream master queue</span></td></tr><tr><td><span>O_SO_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td>&nbsp;</td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='module-loadinstructionmodule'><span>Module load_instruction_module</span></h3><p><span>This module is implemented in load_instruction_module.v file</span></p><h4 id='module-dependencies-13'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart381" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 233.3000030517578px;" viewBox="0 0.0000019073486328125 233.3000030517578 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart381{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart381 .error-icon{fill:#552222;}#mermaidChart381 .error-text{fill:#552222;stroke:#552222;}#mermaidChart381 .edge-thickness-normal{stroke-width:2px;}#mermaidChart381 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart381 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart381 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart381 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart381 .marker{fill:#333333;}#mermaidChart381 .marker.cross{stroke:#333333;}#mermaidChart381 svg{font-family:sans-serif;font-size:16px;}#mermaidChart381 .label{font-family:sans-serif;color:#333;}#mermaidChart381 .label text{fill:#333;}#mermaidChart381 .node rect,#mermaidChart381 .node circle,#mermaidChart381 .node ellipse,#mermaidChart381 .node polygon,#mermaidChart381 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart381 .node .label{text-align:center;}#mermaidChart381 .node.clickable{cursor:pointer;}#mermaidChart381 .arrowheadPath{fill:#333333;}#mermaidChart381 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart381 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart381 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart381 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart381 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart381 .cluster text{fill:#333;}#mermaidChart381 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart381:root{--mermaid-font-family:sans-serif;}#mermaidChart381:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart381 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id8-4045" transform="translate(116.6500015258789,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-108.65000462532043" y="-22.800000190734863" width="217.30000925064087" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-92.95000457763672,-12.800000190734863)"><foreignObject width="185.90000915527344" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">load_instruction_module.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-13'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>BRAM selector logic bitwidth</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default Instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bitwidth</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bitwidth</span></td></tr><tr><td><span>MAXINSTCOUNT</span></td><td><span>integer</span></td><td><span>1024</span></td><td><span>Number of maximum instruction that can be loaded to instruction BRAM</span></td></tr><tr><td><span>IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d0</span></td><td><span>Common load instruction FSM state</span></td></tr><tr><td><span>RUNNING</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d1</span></td><td><span>Common load instruction FSM state</span></td></tr><tr><td><span>DONE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d2</span></td><td><span>Common load instruction FSM state</span></td></tr></tbody></table></figure><h4 id='module-ports-13'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (active low)</span></td></tr><tr><td><span>O_STREAM_DEQUEUE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for dequeuing data from AXI stream slave queue</span></td></tr><tr><td><span>I_STREAM_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from AXI stream slave queue to mark data validity</span></td></tr><tr><td><span>I_STREAM_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Instruction data from AXI stream slave queue</span></td></tr><tr><td><span>I_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from status and control unit to start load instruction process</span></td></tr><tr><td><span>O_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for marking the end of load instruction process</span></td></tr><tr><td><span>O_LOAD_INSTRUCTION_POINTER</span></td><td><span>out</span></td><td><span>[INSTADDRWIDTH-1:0] logic</span></td><td><span>Address pointer for instruction BRAM bank</span></td></tr><tr><td><span>O_LOAD_INSTRUCTION_VALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for writing instruction data to instruction BRAM bank (</span><strong><span>write enable</span></strong><span>)</span></td></tr><tr><td><span>O_LOAD_INSTRUCTION_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Instruction data from AXI stream slave queue to instruction BRAM bank</span></td></tr></tbody></table></figure><h4 id='rtl-breakdown-2'><span>RTL Breakdown</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp;  State Machine Logic &nbsp; &nbsp; &nbsp; &nbsp; //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare local parameter</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">localparam</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">IDLE</span> &nbsp; &nbsp;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">RUNNING</span> <span class="cm-meta">=</span> <span class="cm-number">2'd1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DONE</span> &nbsp; &nbsp;<span class="cm-meta">=</span> <span class="cm-number">2'd2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare register</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_internal_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_last</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign last signal logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_last</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">O_LOAD_INSTRUCTION_POINTER</span> <span class="cm-meta">==</span> <span class="cm-bracket">(</span><span class="cm-variable">MAXINSTCOUNT</span><span class="cm-meta">-</span><span class="cm-number">2</span><span class="cm-bracket">))</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-variable">I_STREAM_VALID</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign done and stream send signal value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DONE</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">DONE</span><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// State machine logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">IDLE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_start_pulse</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">RUNNING</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_last</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DONE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DONE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1366px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1366px;"></div></div></div></pre><p><span>The code snippet above shows the common state machine logic inside the load instruction module. By default, load instruction module will stay at IDLE state until the module receive </span><strong><span>start_pulse</span></strong><span> signal generated by using I_START signal from status and control unit. When </span><strong><span>start_pulse</span></strong><span> signal is asserted, load input  module state will change into RUNNING state and will retain the state until </span><strong><span>w_last</span></strong><span> signal is asserted. If w_last signal is asserted, the state will change into DONE state and come back to IDLE state one clock cycle later. </span><strong><span>w_last</span></strong><span> signal is asserted when the last instruction is transferred from AXI stream slave queue to instruction BRAM. This is happened when </span><strong><span>O_LOAD_INSTRUCTION_POINTER</span></strong><span> is equal to </span><strong><span>MAXINSTCOUNT - 2</span></strong><span> (maximum number of instruction) value.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; Pointer Logic &nbsp; &nbsp; &nbsp; //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare registers</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_load_instruction_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-variable">INSTADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_load_instruction_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// State logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_load_instruction_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2'd0</span>: <span class="cm-comment">// IDLE</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2'd1</span>: <span class="cm-comment">// Load instruction</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">((</span><span class="cm-variable">r_load_instruction_pointer</span> <span class="cm-meta">==</span> <span class="cm-bracket">(</span><span class="cm-variable">MAXINSTCOUNT</span><span class="cm-meta">-</span><span class="cm-number">2</span><span class="cm-bracket">))</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-variable">I_STREAM_VALID</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Pointer logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">O_LOAD_INSTRUCTION_VALID</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_load_instruction_pointer</span> <span class="cm-meta">==</span> <span class="cm-bracket">(</span><span class="cm-variable">MAXINSTCOUNT</span><span class="cm-meta">-</span><span class="cm-number">2</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_load_instruction_pointer</span> <span class="cm-meta">+</span> <span class="cm-number">2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_instruction_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_load_instruction_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1635px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1635px;"></div></div></div></pre><p><span>The code snippet above shows how the local load instruction state machine and load instruction pointer work. In the load instruction pointer logic section, </span><strong><span>r_load_instruction_pointer</span></strong><span> register will be reset if </span><strong><span>I_RESETN</span></strong><span> signal is de-asserted or common load input state machine is not in running state. When common load instruction state machine is in running state, </span><strong><span>r_load_instruction_pointer</span></strong><span>  value will be incremented if instruction is valid. Otherwise, </span><strong><span>r_load_instruction_pointer</span></strong><span> value will remain the same. this </span><strong><span>r_load_instruction_pointer</span></strong><span> value will be used to determine in which address the incoming instruction should be stored on the instruction BRAM.  </span></p><p>&nbsp;</p><h3 id='module-loadinputmodule'><span>Module load_input_module</span></h3><p><span>This module is implemented in load_input_module.v file</span></p><h4 id='module-dependencies-14'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart382" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 195.07814025878906px;" viewBox="0 0.0000019073486328125 195.07814025878906 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart382{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart382 .error-icon{fill:#552222;}#mermaidChart382 .error-text{fill:#552222;stroke:#552222;}#mermaidChart382 .edge-thickness-normal{stroke-width:2px;}#mermaidChart382 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart382 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart382 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart382 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart382 .marker{fill:#333333;}#mermaidChart382 .marker.cross{stroke:#333333;}#mermaidChart382 svg{font-family:sans-serif;font-size:16px;}#mermaidChart382 .label{font-family:sans-serif;color:#333;}#mermaidChart382 .label text{fill:#333;}#mermaidChart382 .node rect,#mermaidChart382 .node circle,#mermaidChart382 .node ellipse,#mermaidChart382 .node polygon,#mermaidChart382 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart382 .node .label{text-align:center;}#mermaidChart382 .node.clickable{cursor:pointer;}#mermaidChart382 .arrowheadPath{fill:#333333;}#mermaidChart382 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart382 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart382 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart382 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart382 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart382 .cluster text{fill:#333;}#mermaidChart382 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart382:root{--mermaid-font-family:sans-serif;}#mermaidChart382:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart382 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id9-4047" transform="translate(97.53907012939453,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-89.53906559944153" y="-22.800000190734863" width="179.07813119888306" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-73.83906555175781,-12.800000190734863)"><foreignObject width="147.67813110351562" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">load_input_module.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-14'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>BRAM selector logic bitwidth</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default Instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bitwidth</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bitwidth</span></td></tr><tr><td><span>IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d0</span></td><td><span>Common load input FSM state</span></td></tr><tr><td><span>RUNNING</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d1</span></td><td><span>Common load input FSM state</span></td></tr><tr><td><span>DONE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d2</span></td><td><span>Common load input FSM state</span></td></tr></tbody></table></figure><h4 id='module-ports-14'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (</span><strong><span>active low</span></strong><span>)</span></td></tr><tr><td><span>O_STREAM_DEQUEUE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for dequeuing data from AXI stream slave queue</span></td></tr><tr><td><span>I_STREAM_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from AXI stream slave queue to mark data validity</span></td></tr><tr><td><span>I_STREAM_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Data from AXI stream slave queue</span></td></tr><tr><td><span>I_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal from status and control unit to start load input process</span></td></tr><tr><td><span>I_NO_OF_ROW</span></td><td><span>in</span></td><td><span>[31:0] logic</span></td><td><span>Signal that is used to set the number of data (BRAM address) to be loaded</span></td></tr><tr><td><span>I_START_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Signal that is used to set the initial BRAM address</span></td></tr><tr><td><span>I_SEL</span></td><td><span>in</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Signal to select which BRAM input the data should be stored (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for marking the end of load input process</span></td></tr><tr><td><span>O_LI_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Address pointer for input BRAM bank</span></td></tr><tr><td><span>O_LI_VALID</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal for writing data to input BRAM bank (</span><strong><span>write enable</span></strong><span>)</span></td></tr><tr><td><span>O_LI_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Data from AXI stream slave queue to input BRAM bank</span></td></tr><tr><td><span>O_LI_SEL</span></td><td><span>out</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Signal to select which BRAM input the data should be stored (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr></tbody></table></figure><h4 id='rtl-breakdown-3'><span>RTL Breakdown</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp;  State Machine Logic &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare register</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">31</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_data_counter</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_load_input_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_internal_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_last</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value for last signal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_last</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">r_data_counter</span> <span class="cm-meta">==</span> <span class="cm-variable">I_NO_OF_ROW</span><span class="cm-meta">-</span><span class="cm-number">1</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-variable">I_STREAM_VALID</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign done and stream send signal value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DONE</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">DONE</span><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// State machine logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">IDLE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_start_pulse</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">RUNNING</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_last</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DONE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DONE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1299px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1299px;"></div></div></div></pre><p><span>The code snippet above shows the common state machine logic inside the load input module. By default, load input module will stay at IDLE state until the module receive </span><strong><span>start_pulse</span></strong><span> signal generated by using I_START signal from status and control unit. When </span><strong><span>start_pulse</span></strong><span> signal is asserted, load input  module state will change into RUNNING state and will retain the state until </span><strong><span>w_last</span></strong><span> signal is asserted. If w_last signal is asserted, the state will change into DONE state and come back to IDLE state one clock cycle later. </span><strong><span>w_last</span></strong><span> signal is asserted when the last data is transferred from DRAM to AXI stream slave queue. This is happened when </span><strong><span>r_data_counter</span></strong><span> is equal to </span><strong><span>I_NO_OF_ROW</span></strong><span> (number of memory address) value.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp; Pointer Logic &nbsp; &nbsp; &nbsp; //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare registers</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_load_input_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// State machine logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_load_input_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2'd0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-number">2'd1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">((</span><span class="cm-variable">r_data_counter</span> <span class="cm-meta">==</span> <span class="cm-bracket">(</span><span class="cm-variable">I_NO_OF_ROW</span><span class="cm-meta">-</span><span class="cm-number">1</span><span class="cm-bracket">))</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-variable">I_STREAM_VALID</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">2'd0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Input pointer logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">O_LI_VALID</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_load_input_pointer</span> &lt; <span class="cm-bracket">(</span><span class="cm-variable">DATABRAMDEPTH</span><span class="cm-meta">-</span><span class="cm-number">1</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_load_input_pointer</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_load_input_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_load_input_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Data counter logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">O_LI_VALID</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_data_counter</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_data_counter</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Signal to BRAM</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_LI_POINTER</span> <span class="cm-meta">=</span> <span class="cm-variable">I_START_POINTER</span> <span class="cm-meta">+</span> <span class="cm-variable">r_load_input_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_LI_VALID</span> <span class="cm-meta">=</span> <span class="cm-variable">I_STREAM_VALID</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_load_input_state</span> <span class="cm-meta">==</span> <span class="cm-number">2'd1</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_LI_DATA</span> <span class="cm-meta">=</span> <span class="cm-variable">I_STREAM_DATA</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 2173px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2173px;"></div></div></div></pre><p><span>The code snippet above shows how the local load input state machine and load input pointer work. In the load pointer logic section, </span><strong><span>r_load_input_pointer</span></strong><span> register will be reset if </span><strong><span>I_RESETN</span></strong><span> signal is de-asserted or common load input state machine is not in running state. When common load input state machine is in running state, </span><strong><span>r_load_input_pointer</span></strong><span>  value will be incremented if data is valid. Otherwise, </span><strong><span>r_load_input_pointer</span></strong><span> value will remain the same. this </span><strong><span>r_load_input_pointer</span></strong><span> value will be used to determine in which address the incoming data should be stored on the input data BRAM.  </span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Signal to FIFO input</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_STREAM_DEQUEUE</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">r_load_input_state</span> <span class="cm-meta">==</span> <span class="cm-number">2'd1</span><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// BRAM Input selector</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-meta">*</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_data_counter</span> &lt; <span class="cm-number">32768</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">O_LI_SEL</span> <span class="cm-meta">=</span> <span class="cm-number">10'b0000000000</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span> <span class="cm-keyword">if</span> <span class="cm-bracket">((</span><span class="cm-variable">r_data_counter</span> &gt;<span class="cm-meta">=</span> <span class="cm-number">32768</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_data_counter</span> &lt; <span class="cm-number">65536</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">O_LI_SEL</span> <span class="cm-meta">=</span> <span class="cm-number">10'b0000000001</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">O_LI_SEL</span> <span class="cm-meta">=</span> <span class="cm-number">10'b0000000000</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 426px;"></div><div class="CodeMirror-gutters" style="display: none; height: 426px;"></div></div></div></pre><p><span>In the code snippet above, </span><strong><span>O_STREAM_DEQUEUE</span></strong><span> signal is asserted whenever local load input state is equal to 1 (fetch data state). The </span><strong><span>O_STREAM_DEQUEUE</span></strong><span> signal is used to dequeue data from AXI stream slave queue and this data will be sent to BRAM bank. In the code above, there are some BRAM input selector logic. But, in the current design, this logic can be omitted since we&#39;re only using single BRAM for storing input data.</span></p><h3 id='module-streamoutmodule'><span>Module stream_out_module</span></h3><p><span>This module is implemented in stream_out_module.v file</span></p><h4 id='module-dependencies-15'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart383" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 201.2624969482422px;" viewBox="0 0.0000019073486328125 201.2624969482422 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart383{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart383 .error-icon{fill:#552222;}#mermaidChart383 .error-text{fill:#552222;stroke:#552222;}#mermaidChart383 .edge-thickness-normal{stroke-width:2px;}#mermaidChart383 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart383 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart383 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart383 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart383 .marker{fill:#333333;}#mermaidChart383 .marker.cross{stroke:#333333;}#mermaidChart383 svg{font-family:sans-serif;font-size:16px;}#mermaidChart383 .label{font-family:sans-serif;color:#333;}#mermaidChart383 .label text{fill:#333;}#mermaidChart383 .node rect,#mermaidChart383 .node circle,#mermaidChart383 .node ellipse,#mermaidChart383 .node polygon,#mermaidChart383 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart383 .node .label{text-align:center;}#mermaidChart383 .node.clickable{cursor:pointer;}#mermaidChart383 .arrowheadPath{fill:#333333;}#mermaidChart383 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart383 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart383 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart383 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart383 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart383 .cluster text{fill:#333;}#mermaidChart383 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart383:root{--mermaid-font-family:sans-serif;}#mermaidChart383:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart383 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id10-4049" transform="translate(100.6312484741211,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-92.63125157356262" y="-22.800000190734863" width="185.26250314712524" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-76.9312515258789,-12.800000190734863)"><foreignObject width="153.8625030517578" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">stream_out_module.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-15'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>BRAM selector logic bitwidth</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default Instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bitwidth</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bitwidth</span></td></tr><tr><td><span>IDLE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d0</span></td><td><span>Common FSM state</span></td></tr><tr><td><span>RUNNING</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d1</span></td><td><span>Common FSM state</span></td></tr><tr><td><span>DONE</span></td><td><span>[1:0] logic</span></td><td><span>2&#39;d2</span></td><td><span>Common FSM state</span></td></tr><tr><td><span>DO_SO_STATE_IDLE</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d0</span></td><td><span>Stream out local FSM state</span></td></tr><tr><td><span>DO_SO_STATE_LOAD_BANK</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d1</span></td><td><span>Stream out local FSM state</span></td></tr><tr><td><span>DO_SO_STATE_LOAD_DONE</span></td><td><span>[2:0] logic</span></td><td><span>3&#39;d2</span></td><td><span>Stream out local FSM state</span></td></tr></tbody></table></figure><h4 id='module-ports-15'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (</span><strong><span>active low</span></strong><span>)</span></td></tr><tr><td><span>I_START</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal for starting stream out process</span></td></tr><tr><td><span>I_START_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information about first address of the output data in the BRAM</span></td></tr><tr><td><span>I_END_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information about last address of the output data in the BRAM</span></td></tr><tr><td><span>O_DONE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>Signal marking the end of stream out process</span></td></tr><tr><td><span>O_BRAM_SEL</span></td><td><span>out</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Signal for selecting BRAM (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_SEND_DATA_POINTER</span></td><td><span>out</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>This port contains information that is used to control which data needs to be sent from BRAM to AXI stream master queue</span></td></tr><tr><td><span>I_STREAM_FULL</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>This port carries AXI stream master queue full flag information</span></td></tr><tr><td><span>O_STREAM_QUEUE</span></td><td><span>out</span></td><td><span>logic</span></td><td><span>This signal is used as a queue signal for AXI stream master queue</span></td></tr><tr><td><span>O_STREAM_SEND_NOW</span></td><td><span>out</span></td><td><span>logic</span></td><td>&nbsp;</td></tr></tbody></table></figure><h4 id='rtl-breakdown-4'><span>RTL Breakdown</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp;  State Machine Logic &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare register</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_internal_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_last</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value for last signal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_last</span> <span class="cm-meta">=</span> <span class="cm-bracket">((</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_do_so_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">DO_SO_STATE_IDLE</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_data_counter</span> <span class="cm-meta">==</span> <span class="cm-bracket">{{(</span><span class="cm-number">32</span><span class="cm-meta">-</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-bracket">){</span><span class="cm-number">1'b0</span><span class="cm-bracket">}}</span>, <span class="cm-variable">I_END_POINTER</span><span class="cm-bracket">}))</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign done and stream send signal value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_DONE</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">DONE</span><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_STREAM_SEND_NOW</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">w_start_pulse</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// State machine logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">IDLE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_start_pulse</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">RUNNING</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_last</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DONE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">RUNNING</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DONE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_internal_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1299px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1299px;"></div></div></div></pre><p><span>The code snippet above shows the common state machine logic inside the stream out module. By default, stream output module will stay at IDLE state until the module receive </span><strong><span>start_pulse</span></strong><span> signal generated by using I_START signal from status and control unit. When </span><strong><span>start_pulse</span></strong><span> signal is asserted, stream output module state will change into RUNNING state and will retain the state until </span><strong><span>w_last</span></strong><span> signal is asserted. If w_last signal is asserted, the state will change into DONE state and come back to IDLE state one clock cycle later. </span><strong><span>w_last</span></strong><span> signal is asserted when the last data is transferred from BRAM to AXI stream master queue. This is happened when </span><strong><span>r_data_counter</span></strong><span> is equal to </span><strong><span>I_END_POINTER</span></strong><span> value.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/////////////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp;  Stream Output State Logic &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/////////////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare local parameter</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">localparam</span> <span class="cm-bracket">[</span><span class="cm-number">2</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> &nbsp; <span class="cm-variable">DO_SO_STATE_IDLE</span> <span class="cm-meta">=</span> <span class="cm-number">3'd0</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DO_SO_STATE_LOAD_BANK</span> <span class="cm-meta">=</span> <span class="cm-number">3'd1</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DO_SO_STATE_LOAD_DONE</span> <span class="cm-meta">=</span> <span class="cm-number">3'd2</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare wire and registers</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_stream_queue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-variable">r_stream_queue_delayed</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_do_so_last</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">2</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_do_so_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_send_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">reg</span> <span class="cm-bracket">[</span><span class="cm-number">31</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">r_data_counter</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value to last signal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_do_so_last</span> <span class="cm-meta">=</span> <span class="cm-bracket">((</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_do_so_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">DO_SO_STATE_IDLE</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_data_counter</span> <span class="cm-meta">==</span> <span class="cm-bracket">{{(</span><span class="cm-number">32</span><span class="cm-meta">-</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-bracket">){</span><span class="cm-number">1'b0</span><span class="cm-bracket">}}</span>, <span class="cm-variable">I_END_POINTER</span><span class="cm-bracket">}))</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value to stream queue signal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_stream_queue</span> <span class="cm-meta">=</span> <span class="cm-bracket">((</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">==</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_do_so_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">DO_SO_STATE_IDLE</span><span class="cm-bracket">))</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_STREAM_QUEUE</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">w_stream_queue</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-variable">r_stream_queue_delayed</span><span class="cm-bracket">)</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-meta">!</span><span class="cm-variable">I_STREAM_FULL</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Delay queue signal</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_stream_queue_delayed</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">w_stream_queue</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Data pointer logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_send_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">I_START_POINTER</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-bracket">{{(</span><span class="cm-number">32</span><span class="cm-meta">-</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-bracket">){</span><span class="cm-number">1'b0</span><span class="cm-bracket">}}</span>, <span class="cm-variable">I_START_POINTER</span><span class="cm-bracket">}</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_start_pulse</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_send_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">I_START_POINTER</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-bracket">{{(</span><span class="cm-number">32</span><span class="cm-meta">-</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-bracket">){</span><span class="cm-number">1'b0</span><span class="cm-bracket">}}</span>, <span class="cm-variable">I_START_POINTER</span><span class="cm-bracket">}</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_STREAM_FULL</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">w_do_so_last</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">r_do_so_state</span> <span class="cm-meta">==</span> <span class="cm-variable">DO_SO_STATE_LOAD_BANK</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">r_send_pointer</span> &lt; <span class="cm-bracket">(</span><span class="cm-variable">DATABRAMDEPTH</span><span class="cm-meta">-</span><span class="cm-number">1</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_send_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_send_pointer</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_data_counter</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_send_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_data_counter</span> <span class="cm-meta">+</span> <span class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_send_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_send_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_data_counter</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_send_pointer</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_send_pointer</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_data_counter</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_data_counter</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Stream out state logic</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span> <span class="cm-meta">||</span> <span class="cm-bracket">(</span><span class="cm-variable">r_internal_state</span> <span class="cm-meta">!=</span> <span class="cm-variable">RUNNING</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_do_so_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DO_SO_STATE_IDLE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">case</span> <span class="cm-bracket">(</span><span class="cm-variable">r_do_so_state</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DO_SO_STATE_IDLE</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_do_so_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DO_SO_STATE_LOAD_BANK</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">DO_SO_STATE_LOAD_BANK</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">w_do_so_last</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_do_so_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DO_SO_STATE_LOAD_DONE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_do_so_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">DO_SO_STATE_LOAD_BANK</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">default</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">r_do_so_state</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">r_do_so_state</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">endcase</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 2442px;"></div><div class="CodeMirror-gutters" style="display: none; height: 2442px;"></div></div></div></pre><p><span>The code snippet above shows how the local stream out state machine and data pointer work. In the data pointer logic section, both </span><strong><span>r_data_counter</span></strong><span> and </span><strong><span>r_send_pointer</span></strong><span> are reset when common stream out state machine is not running. When the stream out common state machine is running and </span><strong><span>start_pulse</span></strong><span> signal is asserted, both </span><strong><span>r_data_counter</span></strong><span> and </span><strong><span>r_send_pointer</span></strong><span> are initialized by </span><strong><span>I_START_POINTER</span></strong><span> value. The reason why </span><strong><span>r_data_counter</span></strong><span> and </span><strong><span>r_send_pointer</span></strong><span> are initialized by </span><strong><span>I_START_POINTER</span></strong><span> is some cases we only want to transfer some data from BRAM to DRAM not all of the BRAM content. So, </span><strong><span>I_START_POINTER</span></strong><span> and </span><strong><span>I_END_POINTER</span></strong><span> can be adjusted depending on the number of data we want to sent to DRAM. The </span><strong><span>r_data_counter</span></strong><span> and </span><strong><span>r_send_pointer</span></strong><span> will be incremented in each clock cycle if AXI stream master FIFO is not full and current transaction is not the last transaction. Otherwise, </span><strong><span>r_data_counter</span></strong><span> and </span><strong><span>r_send_pointer</span></strong><span> will retain its value.</span></p><p>&nbsp;</p><h3 id='module-brambank'><span>Module bram_bank</span></h3><p><span>This module is implemented in bram_bank.v file</span></p><h4 id='module-dependencies-16'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart384" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="157.20001220703125" style="max-width: 139.90000915527344px;" viewBox="0.000003814697265625 0.0000019073486328125 139.90000915527344 157.20001220703125" class="md-require-zoom-fix"><style>#mermaidChart384{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart384 .error-icon{fill:#552222;}#mermaidChart384 .error-text{fill:#552222;stroke:#552222;}#mermaidChart384 .edge-thickness-normal{stroke-width:2px;}#mermaidChart384 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart384 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart384 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart384 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart384 .marker{fill:#333333;}#mermaidChart384 .marker.cross{stroke:#333333;}#mermaidChart384 svg{font-family:sans-serif;font-size:16px;}#mermaidChart384 .label{font-family:sans-serif;color:#333;}#mermaidChart384 .label text{fill:#333;}#mermaidChart384 .node rect,#mermaidChart384 .node circle,#mermaidChart384 .node ellipse,#mermaidChart384 .node polygon,#mermaidChart384 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart384 .node .label{text-align:center;}#mermaidChart384 .node.clickable{cursor:pointer;}#mermaidChart384 .arrowheadPath{fill:#333333;}#mermaidChart384 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart384 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart384 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart384 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart384 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart384 .cluster text{fill:#333;}#mermaidChart384 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart384:root{--mermaid-font-family:sans-serif;}#mermaidChart384:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart384 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-id5 LE-id11" id="L-id5-id11" style="opacity: 1;"><path class="path" d="M69.95000076293945,53.599998474121094L69.95000076293945,78.5999984741211L69.95000076293945,103.5999984741211" marker-end="url(#arrowhead3566)" style="fill:none"></path><defs><marker id="arrowhead3566" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-id5-4052" transform="translate(69.95000076293945,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-61.950000047683716" y="-22.800000190734863" width="123.90000009536743" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-46.25,-12.800000190734863)"><foreignObject width="92.5" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_bank.v</div></foreignObject></g></g></g><g class="node default" id="flowchart-id11-4053" transform="translate(69.95000076293945,126.39999771118164)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-55.72656178474426" y="-22.800000190734863" width="111.45312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.02656173706055,-12.800000190734863)"><foreignObject width="80.0531234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_tdp.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-16'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>integer</span></td><td><span>128</span></td><td><span>Default data width</span></td></tr><tr><td><span>SELWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Default BRAM selector bitwidth (</span><strong><span>Not used in current design</span></strong><span>)</span></td></tr><tr><td><span>INSTWIDTH</span></td><td><span>integer</span></td><td><span>64</span></td><td><span>Default instruction width</span></td></tr><tr><td><span>DATABRAMDEPTH</span></td><td><span>integer</span></td><td><span>32768</span></td><td><span>Data BRAM depth</span></td></tr><tr><td><span>DATAADDRWIDTH</span></td><td><span>integer</span></td><td><span>17</span></td><td><span>Data BRAM address bit</span></td></tr><tr><td><span>INSTADDRWIDTH</span></td><td><span>integer</span></td><td><span>10</span></td><td><span>Instruction BRAM address bit</span></td></tr></tbody></table></figure><h4 id='module-ports-16'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>I_ACLK</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Clock signal</span></td></tr><tr><td><span>I_ARESETN</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Reset signal (</span><strong><span>active low</span></strong><span>)</span></td></tr><tr><td><span>I_BRAM_MODE_DEBUG</span></td><td><span>in</span></td><td><span>[2:0] logic</span></td><td><span>Debug signal (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_BRAM_DEBUG_ADDR</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Debug signal (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_LOAD_INSTRUCTION_POINTER</span></td><td><span>in</span></td><td><span>[INSTADDRWIDTH-1:0] logic</span></td><td><span>Instruction BRAM input address (</span><strong><span>write instruction address</span></strong><span>)</span></td></tr><tr><td><span>I_LOAD_INSTRUCTION_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Instruction BRAM instruction valid signal (</span><strong><span>write enable</span></strong><span>)</span></td></tr><tr><td><span>I_LOAD_INSTRUCTION_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Instruction BRAM input data</span></td></tr><tr><td><span>I_PROGRAM_COUNTER</span></td><td><span>in</span></td><td><span>[INSTADDRWIDTH-1:0] logic</span></td><td><span>Instruction BRAM input address (</span><strong><span>read instruction address</span></strong><span>)</span></td></tr><tr><td><span>O_PROGRAM_INSTRUCTION</span></td><td><span>out</span></td><td><span>[INSTWIDTH-1:0] logic</span></td><td><span>Instruction BRAM output data</span></td></tr><tr><td><span>O_BRAM_DEBUG_INSTRUCTION</span></td><td><span>out</span></td><td><span>[INSTWIDTH-1:0] logic</span></td><td><span>Debug signal (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_LI_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Input data BRAM input address (</span><strong><span>write data from DRAM address</span></strong><span>)</span></td></tr><tr><td><span>I_LI_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Input data BRAM data valid signal (</span><strong><span>write enable</span></strong><span>)</span></td></tr><tr><td><span>I_LI_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Input data BRAM data</span></td></tr><tr><td><span>I_LI_SEL</span></td><td><span>in</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Input BRAM selector (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_DATA_0_POINTER_A</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Input data BRAM port A input address (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_DATA_0_POINTER_B</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Input data BRAM port B input address (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_SORT_DATA_0_A</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Input data BRAM port A output data (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_SORT_DATA_0_B</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Input data BRAM port B output data (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_EVEN_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-2:0] logic</span></td><td><span>Even cache BRAM input address (</span><strong><span>from radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_EVEN_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Even cache BRAM data valid signal (</span><strong><span>write enable from radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_EVEN_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Even cache BRAM data (</span><strong><span>from radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_EVEN_SEL</span></td><td><span>in</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Even cache BRAM selector (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_SORT_EVEN_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Even cache BRAM output data (</span><strong><span>to radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_ODD_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-2:0] logic</span></td><td><span>Odd cache BRAM port A input address (</span><strong><span>from radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_ODD_VALID</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Odd cache BRAM data valid signal (</span><strong><span>write enable from radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_ODD_DATA</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Odd cache BRAM output data (</span><strong><span>to radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_SORT_ODD_SEL</span></td><td><span>in</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>Odd cache BRAM selector (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_SORT_ODD_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Odd cache BRAM output data (</span><strong><span>to radix sort unit</span></strong><span>)</span></td></tr><tr><td><span>I_BRAM_OUT_0_POINTER_A</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Output BRAM port A address (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_BRAM_OUT_0_POINTER_B</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Output BRAM port B address (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_BRAM_OUT_0_A</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Output BRAM port A output data (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>O_BRAM_OUT_0_B</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Output BRAM port B output data (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_SO_NOW</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Signal for selecting I_SO_POINTER input as BRAM address input</span></td></tr><tr><td><span>I_SO_BRAM_SEL</span></td><td><span>in</span></td><td><span>[SELWIDTH-1:0] logic</span></td><td><span>BRAM selector for selecting which BRAM data to be sent to stream out module (</span><strong><span>not used in current design</span></strong><span>)</span></td></tr><tr><td><span>I_SO_POINTER</span></td><td><span>in</span></td><td><span>[DATAADDRWIDTH-1:0] logic</span></td><td><span>Address pointer for selecting output data to stream out module</span></td></tr><tr><td><span>O_SO_DATA</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>BRAM bank output port to stream out module</span></td></tr></tbody></table></figure><h4 id='rtl-breakdown-5'><span>RTL Breakdown</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp;  Instruction BRAM &nbsp; &nbsp; &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare wires</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">INSTADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_instruction_pointer_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">INSTADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_instruction_pointer_b</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">INSTWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_out_instruction_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">INSTWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_out_instruction_b</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value to wires</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_instruction_pointer_a</span> <span class="cm-meta">=</span> <span class="cm-variable">I_LOAD_INSTRUCTION_VALID</span> <span class="cm-meta">?</span> <span class="cm-variable">I_LOAD_INSTRUCTION_POINTER</span> : <span class="cm-variable">I_PROGRAM_COUNTER</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">w_instruction_pointer_b</span> <span class="cm-meta">=</span> <span class="cm-variable">I_LOAD_INSTRUCTION_VALID</span> <span class="cm-meta">?</span> <span class="cm-variable">I_LOAD_INSTRUCTION_POINTER</span><span class="cm-meta">+</span><span class="cm-number">1</span> : <span class="cm-variable">I_BRAM_DEBUG_ADDR</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Instantiate module</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bram_tdp</span> <span class="cm-def">#</span><span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">DWIDTH</span><span class="cm-bracket">(</span><span class="cm-variable">INSTWIDTH</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">DEPTH</span><span class="cm-bracket">(</span><span class="cm-number">1024</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">ADDR_BIT</span><span class="cm-bracket">(</span><span class="cm-variable">INSTADDRWIDTH</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span> <span class="cm-variable">instruction_bram</span> <span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">clk_a</span><span class="cm-bracket">(</span><span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">clk_b</span><span class="cm-bracket">(</span><span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">en_a</span><span class="cm-bracket">(</span><span class="cm-number">1'b1</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">en_b</span><span class="cm-bracket">(</span><span class="cm-number">1'b1</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">we_a</span><span class="cm-bracket">(</span><span class="cm-variable">I_LOAD_INSTRUCTION_VALID</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">we_b</span><span class="cm-bracket">(</span><span class="cm-variable">I_LOAD_INSTRUCTION_VALID</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">addr_a</span><span class="cm-bracket">(</span><span class="cm-variable">w_instruction_pointer_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">addr_b</span><span class="cm-bracket">(</span><span class="cm-variable">w_instruction_pointer_b</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_in_a</span><span class="cm-bracket">(</span><span class="cm-variable">I_LOAD_INSTRUCTION_DATA</span><span class="cm-bracket">[</span><span class="cm-number">63</span>:<span class="cm-number">0</span><span class="cm-bracket">])</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_in_b</span><span class="cm-bracket">(</span><span class="cm-variable">I_LOAD_INSTRUCTION_DATA</span><span class="cm-bracket">[</span><span class="cm-number">127</span>:<span class="cm-number">64</span><span class="cm-bracket">])</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_out_a</span><span class="cm-bracket">(</span><span class="cm-variable">w_out_instruction_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_out_b</span><span class="cm-bracket">(</span><span class="cm-variable">w_out_instruction_b</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Set output instruction port value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Program instruction</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_PROGRAM_INSTRUCTION</span> <span class="cm-meta">=</span> <span class="cm-variable">w_out_instruction_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Debug instruction</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-meta">!</span><span class="cm-variable">I_ARESETN</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">O_BRAM_DEBUG_INSTRUCTION</span> &lt;<span class="cm-meta">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">O_BRAM_DEBUG_INSTRUCTION</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">w_out_instruction_b</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1075px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1075px;"></div></div></div></pre><p><span>In the code snippet above, instruction BRAM is separated from input dan output data BRAM. In this design, instruction BRAM can store up to 1024 64-bit instruction. During load instruction process, </span><strong><span>I_LOAD_INSTRUCTION_VALID</span></strong><span> signal must be asserted so that </span><strong><span>I_LOAD_INSTRUCTION_POINTER</span></strong><span> signal is selected as instruction BRAM address input. Otherwise, </span><strong><span>I_PROGRAM_COUNTER</span></strong><span> signal is selected as address input (</span><strong><span>read instruction process</span></strong><span>). Currently, debug port is not used. So, debug instruction logic section can be omitted.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp;  Input Data BRAM &nbsp; &nbsp; &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">///////////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Input BRAM 0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare wires</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_sort_data_0_we_a</span> <span class="cm-meta">=</span> <span class="cm-variable">w_sort_data_0_valid</span> <span class="cm-meta">||</span> <span class="cm-variable">w_sort_even_0_valid</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_sort_even_0_valid</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">I_SORT_EVEN_VALID</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">I_SORT_EVEN_SEL</span> <span class="cm-meta">==</span> <span class="cm-number">10'b0000000000</span><span class="cm-bracket">))</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_sort_data_0_valid</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">I_LI_VALID</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">I_LI_SEL</span> <span class="cm-meta">==</span> <span class="cm-number">10'b0000000000</span><span class="cm-bracket">))</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_sort_data_0_debug</span> <span class="cm-meta">=</span> <span class="cm-variable">I_BRAM_MODE_DEBUG</span> <span class="cm-meta">==</span> <span class="cm-number">3'b111</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_sort_data_0_data</span> <span class="cm-meta">=</span> <span class="cm-variable">w_sort_data_0_valid</span> <span class="cm-meta">?</span> <span class="cm-variable">I_LI_DATA</span> : <span class="cm-variable">I_SORT_EVEN_DATA</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">sort_data_0_pointer_a</span> <span class="cm-meta">=</span> <span class="cm-variable">w_sort_data_0_valid</span> <span class="cm-meta">?</span> <span class="cm-variable">I_LI_POINTER</span> : <span class="cm-bracket">(</span><span class="cm-variable">I_SORT_EVEN_SEL</span> <span class="cm-meta">==</span> <span class="cm-number">10'b0000000000</span><span class="cm-bracket">)</span> <span class="cm-meta">?</span> <span class="cm-bracket">{</span><span class="cm-number">1'b0</span>, <span class="cm-variable">I_SORT_EVEN_POINTER</span><span class="cm-bracket">}</span> : <span class="cm-variable">I_SORT_DATA_0_POINTER_A</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">sort_data_0_pointer_b</span> <span class="cm-meta">=</span> <span class="cm-variable">w_sort_data_0_debug</span> <span class="cm-meta">?</span> <span class="cm-variable">I_BRAM_DEBUG_ADDR</span> : <span class="cm-bracket">(</span><span class="cm-variable">I_SO_NOW</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">I_SO_BRAM_SEL</span> <span class="cm-meta">==</span> <span class="cm-number">10'b0000000000</span><span class="cm-bracket">))</span> <span class="cm-meta">?</span> <span class="cm-variable">I_SO_POINTER</span>: <span class="cm-variable">I_SORT_DATA_0_POINTER_B</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_sort_data_0_out_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_sort_data_0_out_b</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Instantiate module</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bram_tdp</span> <span class="cm-def">#</span><span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">DWIDTH</span><span class="cm-bracket">(</span><span class="cm-variable">DWIDTH</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">DEPTH</span><span class="cm-bracket">(</span><span class="cm-variable">DATABRAMDEPTH</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">ADDR_BIT</span><span class="cm-bracket">(</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span> <span class="cm-variable">sort_data_0_bram</span> <span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">clk_a</span><span class="cm-bracket">(</span><span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">clk_b</span><span class="cm-bracket">(</span><span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">en_a</span><span class="cm-bracket">(</span><span class="cm-number">1'b1</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">en_b</span><span class="cm-bracket">(</span><span class="cm-number">1'b1</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">we_a</span><span class="cm-bracket">(</span><span class="cm-variable">w_sort_data_0_we_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">we_b</span><span class="cm-bracket">(</span><span class="cm-number">1'b0</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">addr_a</span><span class="cm-bracket">(</span><span class="cm-variable">sort_data_0_pointer_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">addr_b</span><span class="cm-bracket">(</span><span class="cm-variable">sort_data_0_pointer_b</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_in_a</span><span class="cm-bracket">(</span><span class="cm-variable">w_sort_data_0_data</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_in_b</span><span class="cm-bracket">(</span><span class="cm-number">128'd0</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_out_a</span><span class="cm-bracket">(</span><span class="cm-variable">w_sort_data_0_out_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_out_b</span><span class="cm-bracket">(</span><span class="cm-variable">w_sort_data_0_out_b</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value to output</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_SORT_DATA_0_A</span> <span class="cm-meta">=</span> <span class="cm-variable">w_sort_data_0_out_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_SORT_DATA_0_B</span> <span class="cm-meta">=</span> <span class="cm-variable">w_sort_data_0_out_b</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 896px;"></div><div class="CodeMirror-gutters" style="display: none; height: 896px;"></div></div></div></pre><p><span>Code snippet above shows logic for controlling input data BRAM. In this design, aside from storing unsorted data from DRAM, input data BRAM is also acts as a </span><strong><span>cache for radix sorting block</span></strong><span> (</span><strong><span>even cache</span></strong><span>). So, selector logic is required to multiplex the input signal between load input process and sorting process. In order to write data into input data BRAM, either </span><strong><span>w_sort_data_0_valid</span></strong><span> or </span><strong><span>w_sort_even_0_valid</span></strong><span> must be asserted. </span><strong><span>w_sort_data_0_valid</span></strong><span> signal is asserted when </span><strong><span>load input module wants to store data from DRAM to BRAM</span></strong><span>. Meanwhile, </span><strong><span>w_sort_even_0_valid</span></strong><span> is asserted when </span><strong><span>sorting block wants to write cache data into input data BRAM</span></strong><span>. In current design, port A of the input data BRAM is used when load input module tries to store data from DRAM to BRAM. This port is also used by sorting module to store and write cached data. Meanwhile, port B is used to feed the AXI stream master module during stream out process. In code snippet above, there are also several debug-related signal that can be omitted since debugging function is not used in current design.</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// &nbsp; &nbsp; &nbsp;  Output Data BRAM &nbsp; &nbsp; &nbsp;  //</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">////////////////////////////////////</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Output BRAM 0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Declare wires</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_bram_out_0_we_a</span> <span class="cm-meta">=</span> <span class="cm-variable">sort_odd_0_valid</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">sort_odd_0_valid</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">I_SORT_ODD_VALID</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">I_SORT_ODD_SEL</span> <span class="cm-meta">==</span> <span class="cm-number">10'b0000000000</span><span class="cm-bracket">))</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-variable">w_bram_out_0_debug</span> <span class="cm-meta">=</span> <span class="cm-variable">I_BRAM_MODE_DEBUG</span> <span class="cm-meta">==</span> <span class="cm-number">3'b111</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">bram_out_0_pointer_a</span> <span class="cm-meta">=</span> <span class="cm-bracket">(</span><span class="cm-variable">I_SORT_ODD_SEL</span> <span class="cm-meta">==</span> <span class="cm-number">10'b0000000000</span><span class="cm-bracket">)</span> <span class="cm-meta">?</span> <span class="cm-bracket">{</span><span class="cm-number">1'b0</span>, <span class="cm-variable">I_SORT_ODD_POINTER</span><span class="cm-bracket">}</span> : <span class="cm-variable">I_BRAM_OUT_0_POINTER_A</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">bram_out_0_pointer_b</span> <span class="cm-meta">=</span> <span class="cm-variable">w_bram_out_0_debug</span> <span class="cm-meta">?</span> <span class="cm-variable">I_BRAM_DEBUG_ADDR</span> : <span class="cm-bracket">(</span><span class="cm-variable">I_SO_NOW</span> <span class="cm-meta">&amp;&amp;</span> <span class="cm-bracket">(</span><span class="cm-variable">I_SO_BRAM_SEL</span> <span class="cm-meta">==</span> <span class="cm-number">10'b0000000000</span><span class="cm-bracket">))</span> <span class="cm-meta">?</span> <span class="cm-variable">I_SO_POINTER</span>: <span class="cm-variable">I_BRAM_OUT_0_POINTER_B</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_bram_out_0_out_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">wire</span> <span class="cm-bracket">[</span><span class="cm-variable">DWIDTH</span><span class="cm-meta">-</span><span class="cm-number">1</span>:<span class="cm-number">0</span><span class="cm-bracket">]</span> <span class="cm-variable">w_bram_out_0_out_b</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Instantiate module</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">bram_tdp</span> <span class="cm-def">#</span><span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">DWIDTH</span><span class="cm-bracket">(</span><span class="cm-variable">DWIDTH</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">DEPTH</span><span class="cm-bracket">(</span><span class="cm-variable">DATABRAMDEPTH</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">ADDR_BIT</span><span class="cm-bracket">(</span><span class="cm-variable">DATAADDRWIDTH</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span> <span class="cm-variable">bram_out_0</span> <span class="cm-bracket">(</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">clk_a</span><span class="cm-bracket">(</span><span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">clk_b</span><span class="cm-bracket">(</span><span class="cm-variable">I_ACLK</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">en_a</span><span class="cm-bracket">(</span><span class="cm-number">1'b1</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">en_b</span><span class="cm-bracket">(</span><span class="cm-number">1'b1</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">we_a</span><span class="cm-bracket">(</span><span class="cm-variable">w_bram_out_0_we_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">we_b</span><span class="cm-bracket">(</span><span class="cm-number">1'b0</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">addr_a</span><span class="cm-bracket">(</span><span class="cm-variable">bram_out_0_pointer_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">addr_b</span><span class="cm-bracket">(</span><span class="cm-variable">bram_out_0_pointer_b</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_in_a</span><span class="cm-bracket">(</span><span class="cm-variable">I_SORT_ODD_DATA</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_in_b</span><span class="cm-bracket">(</span><span class="cm-number">128'd0</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_out_a</span><span class="cm-bracket">(</span><span class="cm-variable">w_bram_out_0_out_a</span><span class="cm-bracket">)</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>.<span class="cm-variable">d_out_b</span><span class="cm-bracket">(</span><span class="cm-variable">w_bram_out_0_out_b</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">)</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Assign value to output</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_BRAM_OUT_0_A</span> <span class="cm-meta">=</span> <span class="cm-variable">w_bram_out_0_out_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">assign</span> <span class="cm-variable">O_BRAM_OUT_0_B</span> <span class="cm-meta">=</span> <span class="cm-variable">w_bram_out_0_out_b</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 851px;"></div><div class="CodeMirror-gutters" style="display: none; height: 851px;"></div></div></div></pre><p><span>Code snippet above shows the logic for controlling output data BRAM. In current design, port A of output data BRAM is used by sorting module to write and read cached data. Meanwhile, port B is used by stream out module to send data back to DRAM via AXI stream master module.</span></p><p>&nbsp;</p><h3 id='module-bramtdp'><span>Module bram_tdp</span></h3><p><span>This module is implemented in bram_tdp.v file</span></p><h4 id='module-dependencies-17'><span>Module Dependencies</span></h4><div class="md-diagram-panel md-fences-adv-panel"><svg id="mermaidChart385" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="61.599998474121094" style="max-width: 127.453125px;" viewBox="0 0.0000019073486328125 127.453125 61.599998474121094" class="md-require-zoom-fix"><style>#mermaidChart385{font-family:sans-serif;font-size:16px;fill:#333;}#mermaidChart385 .error-icon{fill:#552222;}#mermaidChart385 .error-text{fill:#552222;stroke:#552222;}#mermaidChart385 .edge-thickness-normal{stroke-width:2px;}#mermaidChart385 .edge-thickness-thick{stroke-width:3.5px;}#mermaidChart385 .edge-pattern-solid{stroke-dasharray:0;}#mermaidChart385 .edge-pattern-dashed{stroke-dasharray:3;}#mermaidChart385 .edge-pattern-dotted{stroke-dasharray:2;}#mermaidChart385 .marker{fill:#333333;}#mermaidChart385 .marker.cross{stroke:#333333;}#mermaidChart385 svg{font-family:sans-serif;font-size:16px;}#mermaidChart385 .label{font-family:sans-serif;color:#333;}#mermaidChart385 .label text{fill:#333;}#mermaidChart385 .node rect,#mermaidChart385 .node circle,#mermaidChart385 .node ellipse,#mermaidChart385 .node polygon,#mermaidChart385 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaidChart385 .node .label{text-align:center;}#mermaidChart385 .node.clickable{cursor:pointer;}#mermaidChart385 .arrowheadPath{fill:#333333;}#mermaidChart385 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaidChart385 .flowchart-link{stroke:#333333;fill:none;}#mermaidChart385 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaidChart385 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaidChart385 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaidChart385 .cluster text{fill:#333;}#mermaidChart385 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaidChart385:root{--mermaid-font-family:sans-serif;}#mermaidChart385:root{--mermaid-alt-font-family:sans-serif;}#mermaidChart385 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-id11-4055" transform="translate(63.7265625,30.799999237060547)" style="opacity: 1;"><rect rx="22.800000190734863" ry="22.800000190734863" x="-55.72656178474426" y="-22.800000190734863" width="111.45312356948853" height="45.60000038146973" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.02656173706055,-12.800000190734863)"><foreignObject width="80.0531234741211" height="25.600000381469727"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">bram_tdp.v</div></foreignObject></g></g></g></g></g></g></svg></div><h4 id='module-parameters-17'><span>Module Parameters</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Type</span></th><th><span>Default Value</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>DWIDTH</span></td><td><span>unknown</span></td><td><span>32</span></td><td><span>Default BRAM data width</span></td></tr><tr><td><span>DEPTH</span></td><td><span>unknown</span></td><td><span>2048</span></td><td><span>Default BRAM depth</span></td></tr><tr><td><span>ADDR_BIT</span></td><td><span>unknown</span></td><td><span>32</span></td><td><span>Default BRAM address bit</span></td></tr></tbody></table></figure><h4 id='module-ports-17'><span>Module Ports</span></h4><figure><table><thead><tr><th><span>Name</span></th><th><span>Direction</span></th><th><span>Type</span></th><th><span>Description</span></th></tr></thead><tbody><tr><td><span>clk_a</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Port A clock signal</span></td></tr><tr><td><span>clk_b</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Port B clock signal</span></td></tr><tr><td><span>en_a</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Port A enable signal</span></td></tr><tr><td><span>en_b</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Port B enable signal</span></td></tr><tr><td><span>we_a</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Port A write enable signal</span></td></tr><tr><td><span>we_b</span></td><td><span>in</span></td><td><span>logic</span></td><td><span>Port B write enable signal</span></td></tr><tr><td><span>addr_a</span></td><td><span>in</span></td><td><span>[ADDR_BIT-1:0] logic</span></td><td><span>Port A BRAM address</span></td></tr><tr><td><span>addr_b</span></td><td><span>in</span></td><td><span>[ADDR_BIT-1:0] logic</span></td><td><span>Port B BRAM address</span></td></tr><tr><td><span>d_in_a</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Port A input data</span></td></tr><tr><td><span>d_in_b</span></td><td><span>in</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Port B input data</span></td></tr><tr><td><span>d_out_a</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Port A output data</span></td></tr><tr><td><span>d_out_b</span></td><td><span>out</span></td><td><span>[DWIDTH-1:0] logic</span></td><td><span>Port B output data</span></td></tr></tbody></table></figure><h4 id='rtl-breakdown-6'><span>RTL Breakdown</span></h4><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="verilog" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="verilog"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.2px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Main logic</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Port A</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">clk_a</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">en_a</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">we_a</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ram</span><span class="cm-bracket">[</span><span class="cm-variable">addr_a</span><span class="cm-bracket">]</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">d_in_a</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">d_out_a</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">ram</span><span class="cm-bracket">[</span><span class="cm-variable">addr_a</span><span class="cm-bracket">]</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Port B</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">always</span> @<span class="cm-bracket">(</span><span class="cm-keyword">posedge</span> <span class="cm-variable">clk_b</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">en_b</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">begin</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">we_b</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ram</span><span class="cm-bracket">[</span><span class="cm-variable">addr_b</span><span class="cm-bracket">]</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">d_in_b</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">d_out_b</span> &lt;<span class="cm-meta">=</span> <span class="cm-variable">ram</span><span class="cm-bracket">[</span><span class="cm-variable">addr_b</span><span class="cm-bracket">]</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">end</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">end</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 493px;"></div><div class="CodeMirror-gutters" style="display: none; height: 493px;"></div></div></div></pre><p><span>In the code snippet above, </span><strong><span>en_a</span></strong><span> and </span><strong><span>en_b</span></strong><span> signal are used to activate each BRAM port. If the signal is asserted, the respective port can be used to read and write data. Otherwise, the port will be disabled and cannot receive or send data.</span></p><p><span>If we want to write data into BRAM, we need to assert either </span><strong><span>we_a</span></strong><span> or </span><strong><span>we_b</span></strong><span> signal and also give the address and data at the correct port. If we want to read data from BRAM, we only need to give the correct address to the BRAM and the BRAM will </span><strong><span>provide the correct data one cycle after address is received by BRAM</span></strong><span>.</span></p><p>&nbsp;</p></div></div>
</body>
</html>